(this["webpackJsonpcomics-book"]=this["webpackJsonpcomics-book"]||[]).push([[0],{177:function(e,t,r){},179:function(e,t,r){},180:function(e,t,r){},181:function(e,t,r){},305:function(e,t,r){},307:function(e,t,r){},308:function(e,t,r){},309:function(e,t,r){},310:function(e,t,r){},311:function(e,t,r){},318:function(e,t,r){},319:function(e,t,r){"use strict";r.r(t);var c,n=r(0),a=r.n(n),i=r(17),o=r.n(i),s=r(23),l=r(162),u=r(355),f=(r(177),r(5)),d=function(){return Object(f.jsx)("div",{className:"ChatInput",children:Object(f.jsx)("p",{className:"ChatInput__text-field",contentEditable:!0,suppressContentEditableWarning:!0})})},j=(r(179),function(){return Object(f.jsx)("section",{className:"Chat",children:Object(f.jsx)(d,{})})}),b=r(44),p=r.p+"static/media/close.91205169.svg",m=(r(180),function(e){var t=e.visible,r=e.setVisible,c=function(){return r(!1)};return Object(f.jsxs)("div",{className:"NavMenu ".concat(t&&"NavMenu--visible"),onClick:c,children:[Object(f.jsx)("div",{className:"NavMenu__background ".concat(t&&"NavMenu__background--visible")}),Object(f.jsx)("div",{className:"NavMenu__container ".concat(t&&"NavMenu__container--visible"),onClick:function(e){return e.stopPropagation()},children:Object(f.jsx)("div",{className:"NavMenu__header",children:Object(f.jsx)("div",{className:"NavMenu__button-close",children:Object(f.jsx)("img",{alt:"close-icon",onClick:c,src:p})})})})]})}),O=r.p+"static/media/hamburger-menu.4f615ee5.svg",v=(r(181),function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),r=t[0],c=t[1];return Object(f.jsxs)("header",{className:"PageHeader",children:[Object(f.jsxs)("div",{className:"PageHeader__content",children:[Object(f.jsx)("div",{className:"PageHeader__channel-picker",children:"ME"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{className:"PageHeader__title",children:"Gentleman App - Meetings"}),Object(f.jsx)("p",{className:"PageHeader__users",children:"2 Brothers-in-law online"})]})]}),Object(f.jsx)("img",{alt:"hamburger-menu",className:"PageHeader__hamburger-menu",onClick:function(){return c(!0)},src:O}),Object(f.jsx)(m,{visible:r,setVisible:c})]})}),P=r(22),h=r(356),g=r(357),x=r(354),_=r.p+"static/media/back.3f83d067.svg",k=r.p+"static/media/button-picture.7e1048a6.svg",N=r.p+"static/media/empty-image.c3e5e19d.svg",y=function(e,t){var r=new FileReader,c=e.target.files;r.onload=function(e){t({file:c[0],src:e.target.result})},r.readAsDataURL(c[0])},I=r(35),w=r.n(I),S=r(157),E=r.n(S),F=r(158),C=r.n(F),L=r(31),M="profiles";!function(e){e[e.createProfile="".concat(M,"/createProfile")]="createProfile",e[e.createProfileSuccess="".concat(M,"/createProfileSuccess")]="createProfileSuccess",e[e.createProfileError="".concat(M,"/createProfileError")]="createProfileError",e[e.fetchProfilesSuccess="".concat(M,"/fetchProfilesSuccess")]="fetchProfilesSuccess",e[e.fetchProfilesError="".concat(M,"/fetchProfilesError")]="fetchProfilesError",e[e.uploadImageFinished="".concat(M,"/uploadImageFinished")]="uploadImageFinished",e[e.setProfileId="".concat(M,"/setProfileId")]="setProfileId"}(c||(c={}));var H,D=w()(M),A=Object(L.a)(D,w()("isPending")),R=Object(L.a)(D,C()(E.a,w()("data"))),T=function(e){return Object(L.a)(D,w()(e))},W=(r(305),function(e){var t=e.clickHandler,r=e.name,c=void 0===r?"":r,a=e.imageData,i=void 0===a?null:a,o=e.submitHandler,l=e.title,u=Object(s.c)(A),d=Object(n.useRef)(null),j=Object(n.useState)(i),p=Object(b.a)(j,2),m=p[0],O=p[1],v=Object(n.useState)(c),P=Object(b.a)(v,2),I=P[0],w=P[1];return Object(f.jsxs)("div",{className:"ProfileForm__form-wrapper",children:[Object(f.jsxs)("h2",{className:"ProfileForm__title",children:[Object(f.jsx)("img",{alt:"back-icon",className:"ProfileForm__icon",onClick:t,src:_}),l]}),Object(f.jsxs)("form",{className:"ProfileForm",onSubmit:function(e){e.preventDefault(),m&&I&&o({backToProfileList:t,imageData:m,name:I})},children:[Object(f.jsxs)("div",{className:"ProfileForm__avatar ".concat(m?"ProfileForm__avatar--selected":""),children:[m?Object(f.jsx)("img",{alt:"avatar",className:"ProfileForm__image",src:m.src}):Object(f.jsx)("img",{alt:"empty",className:"ProfileForm__empty-picture",src:N}),Object(f.jsx)("img",{alt:"button-icon",className:"ProfileForm__button-picture",onClick:function(){return d.current.click()},src:k}),Object(f.jsx)("input",{className:"ProfileForm__input-file",onChange:function(e){return y(e,O)},ref:d,type:"file"})]}),Object(f.jsx)(h.a,{className:"ProfileForm__input-name",onChange:function(e){return w(e.target.value)},label:"Profile name:",value:I}),Object(f.jsxs)(g.a,{className:"ProfileForm__submit-button",color:"primary",disabled:u,size:"large",type:"submit",variant:"contained",children:["Create Profile",u&&Object(f.jsx)(x.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})]})}),z=function(e){return{type:c.createProfileError,payload:e}},B=function(e){return{type:c.uploadImageFinished,payload:e}},V=function(e){var t=Object.assign({},e),r=Object(s.b)();return Object(f.jsx)(W,Object(P.a)({submitHandler:function(e){return r((t=e,{type:c.createProfile,payload:t}));var t},title:"Create Profile:"},t))},G=r.p+"static/media/plus.553def23.svg",J=(r(307),function(e){var t=e.clickHandler,r=e.mode,c=void 0===r?"add":r,n=e.name,a=e.src;return Object(f.jsxs)("section",{className:"ProfilePicker ProfilePicker--".concat(c),children:[Object(f.jsx)("p",{className:"ProfilePicker__title ProfilePicker--".concat(c,"__title"),children:n||"Create:"}),Object(f.jsx)("div",{className:"ProfilePicker__button",onClick:t,children:Object(f.jsx)("img",{alt:n?"".concat(n,"-avatar"):"icon",className:"ProfilePicker__image ProfilePicker--".concat(c,"__image"),src:a||G})})]})});!function(e){e.createProfile="createProfile",e.listProfiles="listProfiles"}(H||(H={}));r(308);var U,Y=function(e){var t=e.clickHandler,r=Object(s.b)(),n=Object(s.c)(T("data"));return Object(f.jsxs)("section",{className:"ProfilePickerList",children:[Object(f.jsx)("h1",{className:"ProfilePickerList__title",children:"Choose a brother-in-law:"}),Object(f.jsx)("p",{className:"ProfilePickerList__description",children:"Select a profile to start a conversation with your brother-in-law."}),Object(f.jsxs)("div",{className:"ProfilePickerList__pickers",children:[Object(f.jsx)(J,{clickHandler:function(){return t(H.createProfile)}}),n.map((function(e){var t=e.name,n=e.profileId,a=e.src;return Object(f.jsx)(J,{clickHandler:function(){return r((e=n,{type:c.setProfileId,payload:e}));var e},mode:"select",name:t,src:a},n)}))]})]})},K=(r(309),function(){var e=Object(n.useState)(H.listProfiles),t=Object(b.a)(e,2),r=t[0],c=t[1];return Object(f.jsx)("section",{className:"ProfilePickerSection",children:r===H.listProfiles?Object(f.jsx)(Y,{clickHandler:function(e){return c(e)}}):Object(f.jsx)(V,{clickHandler:function(){return c(H.listProfiles)}})})}),Q=r.p+"static/media/gentleman.154e51ca.svg",X=(r(310),function(e){e.appDataLoaded;return Object(f.jsxs)("div",{className:"PageLoader",children:[Object(f.jsx)("h2",{className:"PageLoader__title",children:"WELCOME GENTLEMAN"}),Object(f.jsx)("img",{alt:"gentleman-logo",src:Q}),Object(f.jsx)("div",{className:"PageLoader__spinner",children:Array.from(Array(12)).map((function(e,t){return Object(f.jsx)("div",{className:"PageLoader__circle PageLoader__circle--".concat(t+1)},t)}))})]})}),q="auth";!function(e){e[e.login="".concat(q,"/login")]="login",e[e.loginSuccess="".concat(q,"/loginSuccess")]="loginSuccess",e[e.loginError="".concat(q,"/loginError")]="loginError"}(U||(U={}));var Z,$=w()(q),ee=Object(L.a)($,w()("error")),te=Object(L.a)($,w()("isPending")),re=Object(L.a)(te,ee,(function(e,t){return!e&&!t})),ce=Object(L.a)(R,(function(e){return e})),ne=(r(311),function(){var e=Object(s.c)(T("seletedProfileId")),t=Object(s.c)(ce);return t?e?Object(f.jsxs)("div",{className:"Page",children:[Object(f.jsx)(v,{}),Object(f.jsx)(j,{})]}):Object(f.jsx)(K,{}):Object(f.jsx)(X,{appDataLoaded:t})}),ae=function(){Object(s.c)(te),Object(s.b)(),Object(s.c)(ee);var e=Object(n.useMemo)((function(){return Object(l.a)({palette:{type:"dark"}})}),[]);return Object(f.jsxs)(u.a,{theme:e,children:[Object(f.jsx)(ne,{}),";"]})},ie=r(34),oe={apiKey:"AIzaSyBYQ05TbRrP2wVEX7NDn5CWodoAnnkpcOY",authDomain:"comics-book.firebaseapp.com",projectId:"comics-book",storageBucket:"comics-book.appspot.com",messagingSenderId:"426496482303",appId:"1:426496482303:web:ebf257ff0a64a90f6ae5ca"};!function(e){e.profiles="profiles"}(Z||(Z={}));var se,le,ue=function(e){console.error(e)},fe=function(e){for(var t=Object.keys(e),r=[],c=0;c<t.length;c++)r.push(e[t[c]]);return r},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.val();t(fe(r||{}))},je=function(e,t,r){e.database().ref(r).on("value",(function(e){return de(e,t)}),ue)},be=function(){var e=Object(s.c)(re),t=Object(s.b)();return Object(n.useEffect)((function(){ie.a.initializeApp(oe)}),[]),Object(n.useEffect)((function(){var r=function(e){t(function(e){return{type:c.fetchProfilesSuccess,payload:e}}(e))};e||setTimeout((function(){je(ie.a,r,Z.profiles)}),1)}),[e]),null},pe=r(38),me=r(159),Oe=r(75),ve=r(160),Pe={error:"",isPending:!0,profileId:""},he=function(e,t){var r=t.payload;return Object(P.a)(Object(P.a)({},e),{},{isPending:!1,profileId:r})},ge=function(e,t){var r=t.payload;return Object(P.a)(Object(P.a)({},e),{},{error:r,isPending:!1})},xe={data:null,error:"",isPending:!0,seletedProfileId:""},_e=function(e){return Object(P.a)(Object(P.a)({},e),{},{isPending:!0})},ke=function(e){return Object(P.a)(Object(P.a)({},e),{},{isPending:!1})},Ne=function(e,t){var r=t.payload;return Object(P.a)(Object(P.a)({},e),{},{error:r,isPending:!1})},ye=function(e,t){var r=t.payload;return Object(P.a)(Object(P.a)({},e),{},{isPending:!1,data:r})},Ie=function(e){return Object(P.a)(Object(P.a)({},e),{},{isPending:!1})},we=function(e,t){var r=t.payload;return Object(P.a)(Object(P.a)({},e),{},{seletedProfileId:r})},Se={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.loginSuccess:return he(e,t);case U.loginError:return ge(e,t);default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.createProfile:return _e(e);case c.createProfileSuccess:return ke(e);case c.createProfileError:return Ne(e,t);case c.fetchProfilesSuccess:return ye(e,t);case c.fetchProfilesError:return Ie(e);case c.setProfileId:return we(e,t);default:return e}}},Ee=function(){return Object(pe.combineReducers)(Object(P.a)({},Se))},Fe=r(161),Ce=r(24),Le=r.n(Ce),Me=r(21);!function(e){e.profileId="profileId"}(se||(se={})),function(e){e.profiles="PROFILES"}(le||(le={}));var He=function(e){return{type:U.loginError,payload:e}},De=Le.a.mark(Ae);function Ae(e){var t,r,c;return Le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,r=localStorage.getItem(se.profileId)||"",n.prev=2,n.next=5,ie.a.auth().signInWithEmailAndPassword("eryk.sandecki@gmail.com",t);case 5:return n.next=7,Object(Me.b)((a=r,{type:U.loginSuccess,payload:a}));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),c=n.t0.code,n.next=14,Object(Me.b)(He(c));case 14:case"end":return n.stop()}var a}),De,null,[[2,9]])}var Re=Le.a.mark(Te);function Te(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.a)([Object(Me.e)(U.login,Ae)]);case 2:case"end":return e.stop()}}),Re)}var We=Le.a.mark(ze);function ze(e){var t,r,c,n,a,i,o;return Le.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,r=t.action,c=t.file,n=t.path,s.prev=2,a=ie.a.storage().ref(n).put(c),i=Object(Oe.b)((function(e){return a.on("state_changed",e)})),o="",s.next=8,Object(Me.e)(i,(function(){}));case 8:return s.next=10,a;case 10:return s.next=12,a.snapshot.ref.getDownloadURL().then((function(e){return o=e}));case 12:return s.next=14,Object(Me.b)(r({result:"success",src:o}));case 14:s.next=20;break;case 16:return s.prev=16,s.t0=s.catch(2),s.next=20,Object(Me.b)(r({error:s.t0,result:"error"}));case 20:case"end":return s.stop()}}),We,null,[[2,16]])}var Be;!function(e){e[e.uploadFile="".concat("common","/uploadFile")]="uploadFile"}(Be||(Be={}));var Ve=Le.a.mark(Ge);function Ge(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.a)([Object(Me.e)(Be.uploadFile,ze)]);case 2:case"end":return e.stop()}}),Ve)}var Je=r(163),Ue=function(e){var t=e.error,r=e.result,c=e.src;if("error"===r)throw t;return c},Ye=function(e){var t=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";do{t.splice(0,t.length);for(var c=0;c<9;c++)t.push(r.charAt(Math.floor(Math.random()*r.length)))}while(e.find((function(e){return e.profileId===t.join("")})));return t.join("")},Ke=function(e){for(var t=ie.a.database().ref(e[0]),r=1;r<e.length;r++)t=t.child(e[r]);return t},Qe=function(e){return{type:Be.uploadFile,payload:e}},Xe=Le.a.mark(qe);function qe(e){var t,r,n,a,i,o,s,l,u,f;return Le.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,r=t.backToProfileList,n=t.name,a=t.imageData.file,i="".concat(le.profiles,"/").concat(n),d.next=5,Object(Me.c)(T("data"));case 5:return o=d.sent,s=Ye(o),d.prev=7,d.next=10,Object(Me.b)(Qe({action:B,path:i,file:a}));case 10:return d.next=12,Object(Me.d)(c.uploadImageFinished);case 12:return l=d.sent,u=l.payload,f=Ue(u),d.next=17,Ke([Z.profiles]).set([].concat(Object(Je.a)(o),[{name:n,online:!1,profileId:s,src:f}]));case 17:return d.next=19,Object(Me.b)({type:c.createProfileSuccess});case 19:return d.next=21,r();case 21:d.next=27;break;case 23:return d.prev=23,d.t0=d.catch(7),d.next=27,Object(Me.b)(z(d.t0));case 27:case"end":return d.stop()}}),Xe,null,[[7,23]])}var Ze=Le.a.mark($e);function $e(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.a)([Object(Me.e)(c.createProfile,qe)]);case 2:case"end":return e.stop()}}),Ze)}var et=[Te,Ge,$e],tt=function(e){var t,r=Object(Fe.a)(et);try{for(r.s();!(t=r.n()).done;){var c=t.value;e.run(c)}}catch(n){r.e(n)}finally{r.f()}},rt=Object(Oe.a)(),ct=function(){var e=Object(pe.createStore)(Ee(),{},Object(me.composeWithDevTools)(pe.applyMiddleware.apply(void 0,[ve.a].concat([rt]))));return tt(rt),e};r(318);o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsxs)(s.a,{store:ct(),children:[Object(f.jsx)(be,{}),Object(f.jsx)(ae,{})]})}),document.getElementById("root"))}},[[319,1,2]]]);
//# sourceMappingURL=main.af9cc9ea.chunk.js.map