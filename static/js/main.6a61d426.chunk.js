(this["webpackJsonpcomics-book"]=this["webpackJsonpcomics-book"]||[]).push([[0],{185:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},190:function(e,t,c){},192:function(e,t,c){},316:function(e,t,c){},317:function(e,t,c){},318:function(e,t,c){},319:function(e,t,c){},320:function(e,t,c){},321:function(e,t,c){},328:function(e,t,c){},329:function(e,t,c){"use strict";c.r(t);var r,n=c(0),a=c.n(n),i=c(17),s=c.n(i),o=c(23),l=c(167),u=c(368),f=c(33),d=c.p+"static/media/send-icon.d7969ca4.svg",j=(c(185),c(5)),b=Object(n.forwardRef)((function(e,t){var c=e.inputHandler,r=Object(n.useState)(!0),a=Object(f.a)(r,2),i=a[0],s=a[1];return Object(j.jsxs)("div",{className:"ChatInput",ref:t,children:[Object(j.jsx)("p",{className:"ChatInput__text-field",contentEditable:!0,onBlur:function(e){""===e.target.innerText&&s(!0)},onFocus:function(){return s(!1)},onInput:c,suppressContentEditableWarning:!0}),i&&Object(j.jsx)("span",{className:"ChatInput__placeholder",children:"Message #Meetings:"}),Object(j.jsx)("img",{alt:"send-icon",className:"ChatInput__send-icon",src:d})]})})),p=(c(187),Object(n.forwardRef)((function(e,t){return Object(j.jsx)("div",{className:"ChatMessages",ref:t})}))),m=(c(188),function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null);return Object(j.jsxs)("section",{className:"Chat",children:[Object(j.jsx)(p,{ref:e}),Object(j.jsx)(b,{inputHandler:function(c){var r=t.current.clientHeight;e.current.style.height="calc(100% - ".concat(r,"px)")},ref:t})]})}),O=c.p+"static/media/close-outlined-icon.91205169.svg",g=(c(189),function(e){var t=e.visible,c=e.setVisible,r=function(){return c(!1)};return Object(j.jsxs)("div",{className:"NavMenu ".concat(t&&"NavMenu--visible"),onClick:r,children:[Object(j.jsx)("div",{className:"NavMenu__background ".concat(t&&"NavMenu__background--visible")}),Object(j.jsx)("div",{className:"NavMenu__container ".concat(t&&"NavMenu__container--visible"),onClick:function(e){return e.stopPropagation()},children:Object(j.jsx)("div",{className:"NavMenu__header",children:Object(j.jsx)("div",{className:"NavMenu__button-close",children:Object(j.jsx)("img",{alt:"close-outlined-icon",onClick:r,src:O})})})})]})}),v=c(168),h=c(370),P=c.p+"static/media/close-icon.51d90ac8.svg",x=c.p+"static/media/gear-icon.7598d1ce.svg",_=c.p+"static/media/modify-size-icon.54599b76.svg",k=(c(190),function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),c=t[0],r=t[1],a=function(){r(null)};return Object(j.jsxs)("div",{className:"PageHeaderSettingsMenu",children:[Object(j.jsx)("img",{alt:"gear-icon",onClick:function(e){r(e.currentTarget)},src:x}),Object(j.jsxs)(v.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:a,children:[Object(j.jsxs)(h.a,{className:"PageHeaderSettingsMenu__item",children:["Up",Object(j.jsx)("img",{alt:"gear-icon",src:_})]}),Object(j.jsxs)(h.a,{className:"PageHeaderSettingsMenu__item",children:["Down",Object(j.jsx)("img",{alt:"reverted-gear-icon",className:"PageHeaderSettingsMenu__icon-rotate",src:_})]}),Object(j.jsxs)(h.a,{className:"PageHeaderSettingsMenu__item",onClick:a,children:["Close",Object(j.jsx)("img",{alt:"close-icon",src:P})]})]})]})}),N=c.p+"static/media/hamburger-menu.85ddbb0d.svg",y=(c(192),function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),c=t[0],r=t[1];return Object(j.jsxs)("header",{className:"PageHeader",children:[Object(j.jsxs)("div",{className:"PageHeader__left-column",children:[Object(j.jsx)("div",{className:"PageHeader__channel-picker",children:"ME"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"PageHeader__title",children:"#Meetings"}),Object(j.jsx)("p",{className:"PageHeader__users",children:"2 Brothers online"})]})]}),Object(j.jsxs)("div",{className:"PageHeader__right-column",children:[Object(j.jsx)(k,{}),Object(j.jsx)("img",{alt:"hamburger-menu",className:"PageHeader__hamburger-menu",onClick:function(){return r(!0)},src:N})]}),Object(j.jsx)(g,{visible:c,setVisible:r})]})}),S=c(22),I=c(369),w=c(366),E=c(367),C=c.p+"static/media/back.3f83d067.svg",F=c.p+"static/media/button-picture.9659aaae.svg",M=c.p+"static/media/empty-image.16de0a9b.svg",H=function(e,t){var c=new FileReader,r=e.target.files;c.onload=function(e){t({file:r[0],src:e.target.result})},c.readAsDataURL(r[0])},L=c(37),D=c.n(L),R=c(162),A=c.n(R),T=c(163),B=c.n(T),z=c(35),W="profiles";!function(e){e[e.createProfile="".concat(W,"/createProfile")]="createProfile",e[e.createProfileSuccess="".concat(W,"/createProfileSuccess")]="createProfileSuccess",e[e.createProfileError="".concat(W,"/createProfileError")]="createProfileError",e[e.fetchProfilesSuccess="".concat(W,"/fetchProfilesSuccess")]="fetchProfilesSuccess",e[e.fetchProfilesError="".concat(W,"/fetchProfilesError")]="fetchProfilesError",e[e.uploadImageFinished="".concat(W,"/uploadImageFinished")]="uploadImageFinished",e[e.setProfileId="".concat(W,"/setProfileId")]="setProfileId"}(r||(r={}));var U,V=D()(W),J=Object(z.a)(V,D()("isPending")),Y=Object(z.a)(V,B()(A.a,D()("data"))),G=function(e){return Object(z.a)(V,D()(e))},K=(c(316),function(e){var t=e.clickHandler,c=e.name,r=void 0===c?"":c,a=e.imageData,i=void 0===a?null:a,s=e.submitHandler,l=e.title,u=Object(o.c)(J),d=Object(n.useRef)(null),b=Object(n.useState)(i),p=Object(f.a)(b,2),m=p[0],O=p[1],g=Object(n.useState)(r),v=Object(f.a)(g,2),h=v[0],P=v[1];return Object(j.jsxs)("div",{className:"ProfileForm__form-wrapper",children:[Object(j.jsxs)("h2",{className:"ProfileForm__title",children:[Object(j.jsx)("img",{alt:"back-icon",className:"ProfileForm__icon",onClick:t,src:C}),l]}),Object(j.jsxs)("form",{className:"ProfileForm",onSubmit:function(e){e.preventDefault(),m&&h&&s({backToProfileList:t,imageData:m,name:h})},children:[Object(j.jsxs)("div",{className:"ProfileForm__avatar ".concat(m?"ProfileForm__avatar--selected":""),children:[m?Object(j.jsx)("img",{alt:"avatar",className:"ProfileForm__image",src:m.src}):Object(j.jsx)("img",{alt:"empty",className:"ProfileForm__empty-picture",src:M}),Object(j.jsx)("img",{alt:"button-icon",className:"ProfileForm__button-picture",onClick:function(){return d.current.click()},src:F}),Object(j.jsx)("input",{className:"ProfileForm__input-file",onChange:function(e){return H(e,O)},ref:d,type:"file"})]}),Object(j.jsx)(I.a,{className:"ProfileForm__input-name",onChange:function(e){return P(e.target.value)},label:"Profile name:",value:h}),Object(j.jsxs)(w.a,{className:"ProfileForm__submit-button",color:"primary",disabled:u,size:"large",type:"submit",variant:"contained",children:["Create Profile",u&&Object(j.jsx)(E.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})]})}),Q=function(e){return{type:r.createProfileError,payload:e}},X=function(e){return{type:r.uploadImageFinished,payload:e}},q=function(e){var t=Object.assign({},e),c=Object(o.b)();return Object(j.jsx)(K,Object(S.a)({submitHandler:function(e){return c((t=e,{type:r.createProfile,payload:t}));var t},title:"Create Profile:"},t))},Z=c.p+"static/media/plus.c453ef1e.svg",$=(c(317),function(e){var t=e.clickHandler,c=e.mode,r=void 0===c?"add":c,n=e.name,a=e.src;return Object(j.jsxs)("section",{className:"ProfilePicker ProfilePicker--".concat(r),onClick:t,children:[Object(j.jsx)("p",{className:"ProfilePicker__title ProfilePicker--".concat(r,"__title"),children:n||"Create:"}),Object(j.jsx)("div",{className:"ProfilePicker__button ProfilePicker--".concat(r,"__button"),children:Object(j.jsx)("img",{alt:n?"".concat(n,"-avatar"):"icon",className:"ProfilePicker__image ProfilePicker--".concat(r,"__image"),src:a||Z})})]})});!function(e){e.createProfile="createProfile",e.listProfiles="listProfiles"}(U||(U={}));c(318);var ee,te=function(e){var t=e.clickHandler,c=Object(o.b)(),n=Object(o.c)(G("data"));return Object(j.jsxs)("section",{className:"ProfilePickerList",children:[Object(j.jsx)("h1",{className:"ProfilePickerList__title",children:"Choose a brother-in-law:"}),Object(j.jsx)("p",{className:"ProfilePickerList__description",children:"Select a profile to start a conversation with your brother-in-law."}),Object(j.jsxs)("div",{className:"ProfilePickerList__pickers",children:[Object(j.jsx)($,{clickHandler:function(){return t(U.createProfile)}}),n.map((function(e){var t=e.name,n=e.profileId,a=e.src;return Object(j.jsx)($,{clickHandler:function(){return c((e=n,{type:r.setProfileId,payload:e}));var e},mode:"select",name:t,src:a},n)}))]})]})},ce=(c(319),function(){var e=Object(n.useState)(U.listProfiles),t=Object(f.a)(e,2),c=t[0],r=t[1];return Object(j.jsx)("section",{className:"ProfilePickerSection",children:c===U.listProfiles?Object(j.jsx)(te,{clickHandler:function(e){return r(e)}}):Object(j.jsx)(q,{clickHandler:function(){return r(U.listProfiles)}})})}),re=c.p+"static/media/gentleman.ff3326dc.svg",ne=(c(320),function(e){e.appDataLoaded;return Object(j.jsxs)("div",{className:"PageLoader",children:[Object(j.jsx)("h2",{className:"PageLoader__title",children:"WELCOME GENTLEMAN"}),Object(j.jsx)("img",{alt:"gentleman-logo",src:re}),Object(j.jsx)("div",{className:"PageLoader__spinner",children:Array.from(Array(12)).map((function(e,t){return Object(j.jsx)("div",{className:"PageLoader__circle PageLoader__circle--".concat(t+1)},t)}))})]})}),ae="auth";!function(e){e[e.login="".concat(ae,"/login")]="login",e[e.loginSuccess="".concat(ae,"/loginSuccess")]="loginSuccess",e[e.loginError="".concat(ae,"/loginError")]="loginError"}(ee||(ee={}));var ie,se=D()(ae),oe=Object(z.a)(se,D()("error")),le=Object(z.a)(se,D()("isPending")),ue=Object(z.a)(le,oe,(function(e,t){return!e&&!t})),fe=Object(z.a)(Y,(function(e){return e})),de=(c(321),function(){var e=Object(o.c)(G("seletedProfileId")),t=Object(o.c)(fe);return t?e?Object(j.jsxs)("div",{className:"Page",children:[Object(j.jsx)(y,{}),Object(j.jsx)(m,{})]}):Object(j.jsx)(ce,{}):Object(j.jsx)(ne,{appDataLoaded:t})}),je=function(){Object(o.c)(le),Object(o.b)(),Object(o.c)(oe);var e=Object(n.useMemo)((function(){return Object(l.a)({palette:{type:"dark"}})}),[]);return Object(j.jsxs)(u.a,{theme:e,children:[Object(j.jsx)(de,{}),";"]})},be=c(36),pe={apiKey:"AIzaSyBYQ05TbRrP2wVEX7NDn5CWodoAnnkpcOY",authDomain:"comics-book.firebaseapp.com",projectId:"comics-book",storageBucket:"comics-book.appspot.com",messagingSenderId:"426496482303",appId:"1:426496482303:web:ebf257ff0a64a90f6ae5ca"};!function(e){e.profiles="profiles"}(ie||(ie={}));var me,Oe,ge=function(e){console.error(e)},ve=function(e){for(var t=Object.keys(e),c=[],r=0;r<t.length;r++)c.push(e[t[r]]);return c},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=e.val();t(ve(c||{}))},Pe=function(e,t,c){e.database().ref(c).on("value",(function(e){return he(e,t)}),ge)},xe=function(){var e=Object(o.c)(ue),t=Object(o.b)();return Object(n.useEffect)((function(){be.a.initializeApp(pe)}),[]),Object(n.useEffect)((function(){var c=function(e){t(function(e){return{type:r.fetchProfilesSuccess,payload:e}}(e))};e||setTimeout((function(){Pe(be.a,c,ie.profiles)}),1)}),[e]),null},_e=c(40),ke=c(164),Ne=c(80),ye=c(165),Se={error:"",isPending:!0,profileId:""},Ie=function(e,t){var c=t.payload;return Object(S.a)(Object(S.a)({},e),{},{isPending:!1,profileId:c})},we=function(e,t){var c=t.payload;return Object(S.a)(Object(S.a)({},e),{},{error:c,isPending:!1})},Ee={data:null,error:"",isPending:!0,seletedProfileId:""},Ce=function(e){return Object(S.a)(Object(S.a)({},e),{},{isPending:!0})},Fe=function(e){return Object(S.a)(Object(S.a)({},e),{},{isPending:!1})},Me=function(e,t){var c=t.payload;return Object(S.a)(Object(S.a)({},e),{},{error:c,isPending:!1})},He=function(e,t){var c=t.payload;return Object(S.a)(Object(S.a)({},e),{},{isPending:!1,data:c})},Le=function(e){return Object(S.a)(Object(S.a)({},e),{},{isPending:!1})},De=function(e,t){var c=t.payload;return Object(S.a)(Object(S.a)({},e),{},{seletedProfileId:c})},Re={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.loginSuccess:return Ie(e,t);case ee.loginError:return we(e,t);default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.createProfile:return Ce(e);case r.createProfileSuccess:return Fe(e);case r.createProfileError:return Me(e,t);case r.fetchProfilesSuccess:return He(e,t);case r.fetchProfilesError:return Le(e);case r.setProfileId:return De(e,t);default:return e}}},Ae=function(){return Object(_e.combineReducers)(Object(S.a)({},Re))},Te=c(166),Be=c(24),ze=c.n(Be),We=c(21);!function(e){e.profileId="profileId"}(me||(me={})),function(e){e.profiles="PROFILES"}(Oe||(Oe={}));var Ue=function(e){return{type:ee.loginError,payload:e}},Ve=ze.a.mark(Je);function Je(e){var t,c,r;return ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,c=localStorage.getItem(me.profileId)||"",n.prev=2,n.next=5,be.a.auth().signInWithEmailAndPassword("eryk.sandecki@gmail.com",t);case 5:return n.next=7,Object(We.b)((a=c,{type:ee.loginSuccess,payload:a}));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),r=n.t0.code,n.next=14,Object(We.b)(Ue(r));case 14:case"end":return n.stop()}var a}),Ve,null,[[2,9]])}var Ye=ze.a.mark(Ge);function Ge(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([Object(We.e)(ee.login,Je)]);case 2:case"end":return e.stop()}}),Ye)}var Ke=ze.a.mark(Qe);function Qe(e){var t,c,r,n,a,i,s;return ze.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,c=t.action,r=t.file,n=t.path,o.prev=2,a=be.a.storage().ref(n).put(r),i=Object(Ne.b)((function(e){return a.on("state_changed",e)})),s="",o.next=8,Object(We.e)(i,(function(){}));case 8:return o.next=10,a;case 10:return o.next=12,a.snapshot.ref.getDownloadURL().then((function(e){return s=e}));case 12:return o.next=14,Object(We.b)(c({result:"success",src:s}));case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(2),o.next=20,Object(We.b)(c({error:o.t0,result:"error"}));case 20:case"end":return o.stop()}}),Ke,null,[[2,16]])}var Xe;!function(e){e[e.uploadFile="".concat("common","/uploadFile")]="uploadFile"}(Xe||(Xe={}));var qe=ze.a.mark(Ze);function Ze(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([Object(We.e)(Xe.uploadFile,Qe)]);case 2:case"end":return e.stop()}}),qe)}var $e=c(169),et=function(e){var t=e.error,c=e.result,r=e.src;if("error"===c)throw t;return r},tt=function(e){var t=[],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";do{t.splice(0,t.length);for(var r=0;r<9;r++)t.push(c.charAt(Math.floor(Math.random()*c.length)))}while(e.find((function(e){return e.profileId===t.join("")})));return t.join("")},ct=function(e){for(var t=be.a.database().ref(e[0]),c=1;c<e.length;c++)t=t.child(e[c]);return t},rt=function(e){return{type:Xe.uploadFile,payload:e}},nt=ze.a.mark(at);function at(e){var t,c,n,a,i,s,o,l,u,f;return ze.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,c=t.backToProfileList,n=t.name,a=t.imageData.file,i="".concat(Oe.profiles,"/").concat(n),d.next=5,Object(We.c)(G("data"));case 5:return s=d.sent,o=tt(s),d.prev=7,d.next=10,Object(We.b)(rt({action:X,path:i,file:a}));case 10:return d.next=12,Object(We.d)(r.uploadImageFinished);case 12:return l=d.sent,u=l.payload,f=et(u),d.next=17,ct([ie.profiles]).set([].concat(Object($e.a)(s),[{name:n,online:!1,profileId:o,src:f}]));case 17:return d.next=19,Object(We.b)({type:r.createProfileSuccess});case 19:return d.next=21,c();case 21:d.next=27;break;case 23:return d.prev=23,d.t0=d.catch(7),d.next=27,Object(We.b)(Q(d.t0));case 27:case"end":return d.stop()}}),nt,null,[[7,23]])}var it=ze.a.mark(st);function st(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([Object(We.e)(r.createProfile,at)]);case 2:case"end":return e.stop()}}),it)}var ot=[Ge,Ze,st],lt=function(e){var t,c=Object(Te.a)(ot);try{for(c.s();!(t=c.n()).done;){var r=t.value;e.run(r)}}catch(n){c.e(n)}finally{c.f()}},ut=Object(Ne.a)(),ft=function(){var e=Object(_e.createStore)(Ae(),{},Object(ke.composeWithDevTools)(_e.applyMiddleware.apply(void 0,[ye.a].concat([ut]))));return lt(ut),e};c(328);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsxs)(o.a,{store:ft(),children:[Object(j.jsx)(xe,{}),Object(j.jsx)(je,{})]})}),document.getElementById("root"))}},[[329,1,2]]]);
//# sourceMappingURL=main.6a61d426.chunk.js.map