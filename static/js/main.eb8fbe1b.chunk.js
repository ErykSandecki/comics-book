(this["webpackJsonpcomics-book"]=this["webpackJsonpcomics-book"]||[]).push([[0],{207:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},340:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var c,a,r=n(0),i=n.n(r),s=n(19),o=n.n(s),l=n(13),u=n(182),f=n(398),d=n(24),j=n.p+"static/media/send-icon.d7969ca4.svg",b=(n(207),n(4)),O=Object(r.forwardRef)((function(e,t){var n=e.inputHandler,c=Object(r.useState)(!0),a=Object(d.a)(c,2),i=a[0],s=a[1];return Object(b.jsxs)("div",{className:"ChatInput",ref:t,children:[Object(b.jsx)("p",{className:"ChatInput__text-field",contentEditable:!0,onBlur:function(e){0===e.target.innerText.trim().length&&s(!0)},onFocus:function(){return s(!1)},onInput:n,suppressContentEditableWarning:!0}),i&&Object(b.jsx)("span",{className:"ChatInput__placeholder",children:"Message #Meetings:"}),Object(b.jsx)("img",{alt:"send-icon",className:"ChatInput__send-icon",src:j})]})})),p=(n(209),Object(r.forwardRef)((function(e,t){return Object(b.jsx)("div",{className:"ChatMessages",ref:t})})));!function(e){e.marginOffset="MARGIN_OFFSET"}(c||(c={})),function(e){e.profiles="PROFILES"}(a||(a={}));var h,m=Object(r.createContext)({margin:0,setMargin:function(){}}),v=function(e){var t=e.children,n=Object(r.useState)(parseInt(localStorage.getItem(c.marginOffset)||0)),a=Object(d.a)(n,2),i=a[0],s=a[1];return Object(b.jsx)(m.Provider,{value:{margin:i,setMargin:function(e){var t=i+e;(i>0||-1!==e)&&(s(t),localStorage.setItem(c.marginOffset,t))}},children:t})},g=(n(210),function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useContext)(m).margin;return Object(b.jsxs)("section",{className:"Chat",style:{height:"calc(100vh - ".concat(80+n,"px)")},children:[Object(b.jsx)(p,{ref:e}),Object(b.jsx)(O,{inputHandler:function(){var n=t.current.clientHeight;e.current.style.height="calc(100% - ".concat(n,"px)")},ref:t})]})});!function(e){e.profiles="profiles",e.channels="channels"}(h||(h={}));var x,P=n(37),_=function(e){for(var t=P.a.database().ref(e[0]),n=1;n<e.length;n++)t=t.child(e[n]);return t},N=function(e){return{disconnectProfile:function(){return _([h.profiles,e,"online"]).onDisconnect().set(!1)}}},C=n(52),k=n.n(C),y=n(80),M=n.n(y),S=n(28),I=n.n(S),E=n(81),w=n.n(E),F=n(29),T="profiles";!function(e){e[e.createProfile="".concat(T,"/createProfile")]="createProfile",e[e.createProfileSuccess="".concat(T,"/createProfileSuccess")]="createProfileSuccess",e[e.createProfileError="".concat(T,"/createProfileError")]="createProfileError",e[e.fetchProfilesSuccess="".concat(T,"/fetchProfilesSuccess")]="fetchProfilesSuccess",e[e.fetchProfilesError="".concat(T,"/fetchProfilesError")]="fetchProfilesError",e[e.uploadImageFinished="".concat(T,"/uploadImageFinished")]="uploadImageFinished",e[e.selectProfile="".concat(T,"/selectProfile")]="selectProfile",e[e.selectProfileError="".concat(T,"/selectProfileError")]="selectProfileError",e[e.updateTimeProfile="".concat(T,"/updateTimeProfile")]="updateTimeProfile",e[e.updateTimeProfileError="".concat(T,"/updateTimeProfileError")]="updateTimeProfileError"}(x||(x={}));var H,L=I()(T),D=Object(F.a)(L,I()("isPending")),R=Object(F.a)(L,k()(w.a,I()("data"))),A=function(e){return Object(F.a)(L,I()(e))},U=function(e){return Object(F.a)(L,k()(M()((function(t){return t.profileId===e})),I()("data")))},B=function(e,t){return Object(F.a)(U(t),I()(e))},z=function(e){return{type:x.createProfileError,payload:e}},W=function(e){return{type:x.uploadImageFinished,payload:e}},V=function(){var e=Object(l.b)(),t=Object(l.c)(A("selectedProfileId")),n=Object(l.c)(A("data")).findIndex((function(e){return e.profileId===t})),c=N(n).disconnectProfile;return Object(r.useEffect)((function(){var n;c(),e((n=t,{type:x.updateTimeProfile,payload:n}))}),[]),null},G=n(14),J=n(401),Y=n(397),K=n(357),Q=n(400),X=n(402),q=n(399),Z=n(395),$=n(396),ee="channels";!function(e){e[e.createChannel="".concat(ee,"/createChannel")]="createChannel",e[e.createChannelSuccess="".concat(ee,"/createChannelSuccess")]="createChannelSuccess",e[e.createChannelsError="".concat(ee,"/createChannelsError")]="createChannelsError",e[e.fetchChannelsSuccess="".concat(ee,"/fetchChannelsSuccess")]="fetchChannelsSuccess",e[e.fetchChannelsError="".concat(ee,"/fetchChannelsError")]="fetchChannelsError",e[e.uploadImageFinished="".concat(ee,"/uploadImageFinished")]="uploadImageFinished",e[e.setChannelId="".concat(ee,"/setChannelId")]="setChannelId"}(H||(H={}));var te,ne=function(e){return{type:H.createChannelsError,payload:e}},ce=n(177),ae=n.n(ce),re=I()(ee),ie=Object(F.a)(re,I()("isPending")),se=Object(F.a)(re,k()(w.a,I()("channels"))),oe=Object(F.a)(re,k()(I()("channelId"),ae.a,I()("channels"))),le=function(e){return Object(F.a)(re,I()(e))},ue=(n(340),function(e){var t=e.closeModal,n=e.openNotifiaction,c=Object(r.useState)(""),a=Object(d.a)(c,2),i=a[0],s=a[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),f=u[0],j=u[1],O=Object(r.useState)(!1),p=Object(d.a)(O,2),h=p[0],m=p[1],v=Object(l.c)(ie),g=Object(l.b)();return Object(r.useEffect)((function(){!v&&h&&(t(),n())}),[v,h]),Object(b.jsxs)("form",{className:"NavMenuCreateChannelForm",onSubmit:function(e){var t;e.preventDefault(),i&&f&&(g((t={name:i,shortcut:f.toUpperCase()},{type:H.createChannel,payload:t})),m(!0))},children:[Object(b.jsx)("h2",{children:"Create channel:"}),Object(b.jsx)(q.a,{className:"NavMenuCreateChannelForm__input",onChange:function(e){return s(e.target.value)},label:"Channel name:",value:i}),Object(b.jsx)(q.a,{className:"NavMenuCreateChannelForm__input",onChange:function(e){return j(e.target.value)},label:"Shortcut channel name eg. (ME):",inputProps:{maxLength:2},value:f}),Object(b.jsxs)(Z.a,{className:"ProfileForm__submit-button",color:"primary",disabled:v,size:"large",type:"submit",variant:"contained",children:["Create Channel",v&&Object(b.jsx)($.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})}),fe=n.p+"static/media/plus-white-icon.abb60e4a.svg",de=(n(342),function(e){var t=e.closeNavMenu,n=Object(r.useState)(!1),c=Object(d.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(!1),o=Object(d.a)(s,2),u=o[0],f=o[1],j=Object(l.b)(),O=Object(l.c)(le("channels")),p=function(e){return Object(b.jsx)(Q.a,Object(G.a)({elevation:6,variant:"filled"},e))},h=function(e){var n;t(),j((n=e,{type:H.setChannelId,payload:n}))};return Object(b.jsxs)("div",{className:"NavMenuChannels",children:[Object(b.jsxs)("div",{className:"NavMenuChannels__nav",children:[Object(b.jsx)("p",{className:"NavMenuChannels__title",children:"Channels"}),Object(b.jsx)("img",{alt:"plus-white-icon",className:"NavMenuChannels__button",onClick:function(){return f(!0)},src:fe})]}),Object(b.jsx)("div",{className:"NavMenuChannels__channels",children:O.map((function(e){var t=e.channelId,n=e.name;return Object(b.jsxs)("p",{className:"NavMenuChannels__channel-name",onClick:function(){return h(t)},children:["#",n]},t)}))}),Object(b.jsx)(J.a,{className:"NavMenuChannels__modal",closeAfterTransition:!0,open:u,onClose:function(){return f(!1)},BackdropComponent:Y.a,BackdropProps:{timeout:500},children:Object(b.jsx)(K.a,{in:u,children:Object(b.jsx)("div",{className:"NavMenuChannels__card",children:Object(b.jsx)(ue,{closeModal:function(){return f(!1)},openNotifiaction:function(){return i(!0)}})})})}),Object(b.jsx)(X.a,{open:a,className:"NavMenuChannels__snackbar",autoHideDuration:5e3,onClose:function(){return i(!1)},children:Object(b.jsx)(p,{onClose:function(){return i(!1)},severity:"success",children:"Channel has been added!"})})]})}),je=n.p+"static/media/offline-icon.e258b94e.svg",be=n.p+"static/media/online-icon.f3194dda.svg",Oe=function(e,t,n){return n&&e-t<9e4},pe=(n(343),function(){var e=Object(l.c)(A("data")),t=Object(l.c)(A("selectedProfileId")),n=Object(l.c)(B("lastUpdateTime",t)),c=function(e,t){return Oe(n,e,t)?be:je};return Object(b.jsxs)("div",{className:"NavMenuProfiles",children:[Object(b.jsx)("div",{className:"NavMenuProfiles__header",children:Object(b.jsx)("p",{className:"NavMenuProfiles__title",children:"Brothers-in-law"})}),Object(b.jsx)("div",{className:"NavMenuProfiles__profiles",children:e.filter((function(e){return e.profileId!==t})).map((function(e){var t=e.lastUpdateTime,n=e.name,a=e.online,r=e.profileId,i=e.src;return Object(b.jsxs)("div",{className:"NavMenuProfiles__profile",children:[Object(b.jsx)("img",{alt:r,className:"NavMenuProfiles__avatar",src:i}),Object(b.jsx)("img",{alt:"status-icon",className:"NavMenuProfiles__status",src:c(t,a)}),Object(b.jsx)("p",{className:"NavMenuProfiles__name",children:n},r)]},r)}))})]})}),he=n.p+"static/media/close-white-icon.46536c1e.svg",me=(n(344),function(e){var t=e.visible,n=e.setVisible,c=function(){return n(!1)},a=Object(l.c)(A("selectedProfileId")),r=Object(l.c)(U(a)),i=r.name,s=r.src;return Object(b.jsxs)("div",{className:"NavMenu ".concat(t&&"NavMenu--visible"),onClick:c,children:[Object(b.jsx)("div",{className:"NavMenu__background ".concat(t&&"NavMenu__background--visible")}),Object(b.jsxs)("div",{className:"NavMenu__container ".concat(t&&"NavMenu__container--visible"),onClick:function(e){return e.stopPropagation()},children:[Object(b.jsxs)("div",{className:"NavMenu__header",children:[Object(b.jsxs)("div",{className:"NavMenu__profile-data",children:[Object(b.jsx)("img",{alt:"profile-avatar",className:"NavMenu__profile-avatar",src:s}),Object(b.jsx)("p",{className:"NavMenu__profile-name",children:i})]}),Object(b.jsx)("img",{alt:"close-white-icon",className:"NavMenu__button-close",onClick:c,src:he})]}),Object(b.jsxs)("div",{className:"NavMenu__content",children:[Object(b.jsx)(de,{closeNavMenu:c}),Object(b.jsx)(pe,{})]})]})]})}),ve=n(183),ge=n(403),xe=n.p+"static/media/close-icon.092c61d5.svg",Pe=n.p+"static/media/gear-icon.e5deb93c.svg",_e=n.p+"static/media/modify-size-icon.7b8f31f6.svg",Ne=(n(345),function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useContext)(m).setMargin,i=function(){c(null)};return Object(b.jsxs)("div",{className:"PageHeaderSettingsMenu",children:[Object(b.jsx)("img",{alt:"gear-icon",onClick:function(e){c(e.currentTarget)},src:Pe}),Object(b.jsxs)(ve.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:i,children:[Object(b.jsxs)(ge.a,{className:"PageHeaderSettingsMenu__item",onClick:function(){return a(1)},children:["Up",Object(b.jsx)("img",{alt:"gear-icon",src:_e})]}),Object(b.jsxs)(ge.a,{className:"PageHeaderSettingsMenu__item",onClick:function(){return a(-1)},children:["Down",Object(b.jsx)("img",{alt:"reverted-gear-icon",className:"PageHeaderSettingsMenu__icon-rotate",src:_e})]}),Object(b.jsxs)(ge.a,{className:"PageHeaderSettingsMenu__item",onClick:i,children:["Close",Object(b.jsx)("img",{alt:"close-icon",src:xe})]})]})]})}),Ce=n.p+"static/media/hamburger-menu.85ddbb0d.svg",ke=(n(346),function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(l.c)(oe),i=Object(l.c)(le("selectedChannelId"))||a,s=Object(l.c)(function(e){return Object(F.a)(re,k()(M()((function(t){return t.channelId===e})),I()("channels")))}(i)),o=s.name,u=s.shortcut,f=Object(l.c)(A("data")),j=Object(l.c)(A("selectedProfileId")),O=Object(l.c)(B("lastUpdateTime",j));return Object(b.jsxs)("header",{className:"PageHeader",children:[Object(b.jsxs)("div",{className:"PageHeader__left-column",children:[Object(b.jsx)("div",{className:"PageHeader__channel-picker",children:u}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"PageHeader__title",children:["#",o]}),Object(b.jsxs)("p",{className:"PageHeader__users",children:[f.filter((function(e){return e.profileId!==j})).reduce((function(e,t){var n=t.lastUpdateTime,c=t.online;return Oe(O,n,c)?++e:e}),0)," Brothers online"]})]})]}),Object(b.jsxs)("div",{className:"PageHeader__right-column",children:[Object(b.jsx)(Ne,{}),Object(b.jsx)("img",{alt:"hamburger-menu",className:"PageHeader__hamburger-menu",onClick:function(){return c(!0)},src:Ce})]}),Object(b.jsx)(me,{visible:n,setVisible:c})]})}),ye=n.p+"static/media/back.d5208217.svg",Me=n.p+"static/media/button-picture.9659aaae.svg",Se=n.p+"static/media/empty-image.acb60281.svg",Ie=function(e,t){var n=new FileReader,c=e.target.files;n.onload=function(e){t({file:c[0],src:e.target.result})},n.readAsDataURL(c[0])},Ee=(n(347),function(e){var t=e.clickHandler,n=e.name,c=void 0===n?"":n,a=e.imageData,i=void 0===a?null:a,s=e.submitHandler,o=e.title,u=Object(l.c)(D),f=Object(r.useRef)(null),j=Object(r.useState)(i),O=Object(d.a)(j,2),p=O[0],h=O[1],m=Object(r.useState)(c),v=Object(d.a)(m,2),g=v[0],x=v[1];return Object(b.jsxs)("div",{className:"ProfileForm__form-wrapper",children:[Object(b.jsxs)("h2",{className:"ProfileForm__title",children:[Object(b.jsx)("img",{alt:"back-icon",className:"ProfileForm__icon",onClick:t,src:ye}),o]}),Object(b.jsxs)("form",{className:"ProfileForm",onSubmit:function(e){e.preventDefault(),p&&g&&s({backToProfileList:t,imageData:p,name:g})},children:[Object(b.jsxs)("div",{className:"ProfileForm__avatar ".concat(p?"ProfileForm__avatar--selected":""),children:[p?Object(b.jsx)("img",{alt:"avatar",className:"ProfileForm__image",src:p.src}):Object(b.jsx)("img",{alt:"empty",className:"ProfileForm__empty-picture",src:Se}),Object(b.jsx)("img",{alt:"button-icon",className:"ProfileForm__button-picture",onClick:function(){return f.current.click()},src:Me}),Object(b.jsx)("input",{className:"ProfileForm__input-file",onChange:function(e){return Ie(e,h)},ref:f,type:"file"})]}),Object(b.jsx)(q.a,{className:"ProfileForm__input-name",onChange:function(e){return x(e.target.value)},label:"Profile name:",value:g}),Object(b.jsxs)(Z.a,{className:"ProfileForm__submit-button",color:"primary",disabled:u,size:"large",type:"submit",variant:"contained",children:["Create Profile",u&&Object(b.jsx)($.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})]})}),we=function(e){var t=Object.assign({},e),n=Object(l.b)();return Object(b.jsx)(Ee,Object(G.a)({submitHandler:function(e){return n((t=e,{type:x.createProfile,payload:t}));var t},title:"Create Profile:"},t))},Fe=n(184),Te=n(178),He=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),c=n[0],a=n[1],i=Te.isMobile?"touchstart":"mousedown";return Object(r.useEffect)((function(){var t=function(t){var n=t.target;e.current&&(!c&&e.current.contains(n)?a(!0):c&&!e.current.contains(n)&&a(!1))};return document.addEventListener(i,t),function(){document.removeEventListener(i,t)}}),[e,c]),c},Le=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},De=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=n.shouldPreventDefault,a=void 0===c||c,i=n.delay,s=void 0===i?1e3:i,o=Object(r.useState)(!1),l=Object(d.a)(o,2),u=l[0],f=l[1],j=Object(r.useRef)(),b=Object(r.useRef)(),O=Object(r.useCallback)((function(t){a&&t.target&&(t.target.addEventListener("touchend",Le,{passive:!1}),b.current=t.target),j.current=setTimeout((function(){e(t),f(!0)}),s)}),[e,s,a]),p=Object(r.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];j.current&&clearTimeout(j.current),n&&!u&&t(),a&&b.current&&b.current.removeEventListener("touchend",Le),f(!1)}),[a,t,u]);return{onMouseDown:function(e){return O(e)},onTouchStart:function(e){return O(e)},onMouseUp:function(e){return p(e)},onMouseLeave:function(e){return p(e,!1)},onTouchEnd:function(e){return p(e)},clearManual:function(){return p(null,!1)}}},Re=n.p+"static/media/edit-icon.a04997a1.svg",Ae=n.p+"static/media/plus.c453ef1e.svg",Ue=n.p+"static/media/trash-icon.66b5ea88.svg",Be=(n(349),function(e){var t=e.clickHandler,n=e.mode,c=void 0===n?"add":n,a=e.name,i=e.src,s=Object(r.useRef)(null),o=He(s),l=Object(r.useState)(!1),u=Object(d.a)(l,2),f=u[0],j=u[1],O="select"===c&&f&&o,p=De((function(){j(!0)}),(function(){t()})),h=p.clearManual,m=Object(Fe.a)(p,["clearManual"]);return Object(r.useEffect)((function(){!o&&f&&(j(!1),h())}),[o,f]),Object(b.jsxs)("section",{className:"ProfilePicker ".concat(O?"ProfilePicker--blur":""),ref:s,children:[Object(b.jsxs)("div",Object(G.a)(Object(G.a)({className:"ProfilePicker__card ProfilePicker--".concat(c,"__card ").concat(O?"ProfilePicker__card--blur":"")},m),{},{children:[Object(b.jsx)("p",{className:"ProfilePicker__title ProfilePicker--".concat(c,"__title"),children:a||"Create:"}),Object(b.jsx)("div",{className:"ProfilePicker__button ProfilePicker--".concat(c,"__button"),children:Object(b.jsx)("img",{alt:a?"".concat(a,"-avatar"):"icon",className:"ProfilePicker__image ProfilePicker--".concat(c,"__image"),src:i||Ae})})]})),O&&Object(b.jsx)("div",{className:"ProfilePicker__overlay",children:Object(b.jsxs)("div",{className:"ProfilePicker__wrapper",children:[Object(b.jsx)("p",{className:"ProfilePicker__help-text",children:"Select one of the options:"}),Object(b.jsxs)("div",{className:"ProfilePicker__options",children:[Object(b.jsx)("div",{className:"ProfilePicker__option",children:Object(b.jsx)("img",{alt:"edit-icon",src:Re})}),Object(b.jsx)("div",{className:"ProfilePicker__option",children:Object(b.jsx)("img",{alt:"trash-icon",src:Ue})})]})]})})]})});!function(e){e.createProfile="createProfile",e.listProfiles="listProfiles"}(te||(te={}));n(350);var ze,We=function(e){var t=e.clickHandler,n=Object(l.b)(),c=Object(l.c)(A("data"));return Object(b.jsxs)("section",{className:"ProfilePickerList",children:[Object(b.jsx)("h1",{className:"ProfilePickerList__title",children:"Choose a brother-in-law:"}),Object(b.jsx)("p",{className:"ProfilePickerList__description",children:"Select a profile to start a conversation with your brother-in-law."}),Object(b.jsxs)("div",{className:"ProfilePickerList__pickers",children:[Object(b.jsx)(Be,{clickHandler:function(){return t(te.createProfile)}}),c.map((function(e){var t=e.name,c=e.profileId,a=e.src;return Object(b.jsx)(Be,{clickHandler:function(){return n((e=c,{type:x.selectProfile,payload:e}));var e},mode:"select",name:t,src:a},c)}))]})]})},Ve=(n(351),function(){var e=Object(r.useState)(te.listProfiles),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(b.jsx)("section",{className:"ProfilePickerSection",children:n===te.listProfiles?Object(b.jsx)(We,{clickHandler:function(e){return c(e)}}):Object(b.jsx)(we,{clickHandler:function(){return c(te.listProfiles)}})})}),Ge=n.p+"static/media/gentleman.ff3326dc.svg",Je=(n(352),function(e){e.appDataLoaded;return Object(b.jsxs)("div",{className:"PageLoader",children:[Object(b.jsx)("h2",{className:"PageLoader__title",children:"WELCOME GENTLEMAN"}),Object(b.jsx)("img",{alt:"gentleman-logo",src:Ge}),Object(b.jsx)("div",{className:"PageLoader__spinner",children:Array.from(Array(12)).map((function(e,t){return Object(b.jsx)("div",{className:"PageLoader__circle PageLoader__circle--".concat(t+1)},t)}))})]})}),Ye="auth";!function(e){e[e.login="".concat(Ye,"/login")]="login",e[e.loginSuccess="".concat(Ye,"/loginSuccess")]="loginSuccess",e[e.loginError="".concat(Ye,"/loginError")]="loginError"}(ze||(ze={}));var Ke=I()(Ye),Qe=Object(F.a)(Ke,I()("error")),Xe=Object(F.a)(Ke,I()("isPending")),qe=Object(F.a)(Xe,Qe,(function(e,t){return!e&&!t})),Ze=Object(F.a)(R,se,(function(e,t){return e&&t})),$e=(n(353),function(){var e=Object(l.c)(A("selectedProfileId")),t=Object(l.c)(Ze);return t?e?Object(b.jsxs)("div",{className:"Page",children:[Object(b.jsx)(V,{}),Object(b.jsx)(ke,{}),Object(b.jsx)(g,{})]}):Object(b.jsx)(Ve,{}):Object(b.jsx)(Je,{appDataLoaded:t})}),et=function(){Object(l.c)(Xe),Object(l.b)(),Object(l.c)(Qe);var e=Object(r.useMemo)((function(){return Object(u.a)({palette:{type:"dark"}})}),[]);return Object(b.jsx)(f.a,{theme:e,children:Object(b.jsx)(v,{children:Object(b.jsx)($e,{})})})},tt={apiKey:"AIzaSyBYQ05TbRrP2wVEX7NDn5CWodoAnnkpcOY",authDomain:"comics-book.firebaseapp.com",projectId:"comics-book",storageBucket:"comics-book.appspot.com",messagingSenderId:"426496482303",appId:"1:426496482303:web:ebf257ff0a64a90f6ae5ca"},nt=function(e){console.error(e)},ct=function(e){for(var t=Object.keys(e),n=[],c=0;c<t.length;c++)n.push(e[t[c]]);return n},at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.val();t(ct(n||{}))},rt=function(e,t,n){e.database().ref(n).on("value",(function(e){return at(e,t)}),nt)},it=function(){var e=Object(l.c)(qe),t=Object(l.b)();return Object(r.useEffect)((function(){P.a.initializeApp(tt)}),[]),Object(r.useEffect)((function(){var n=function(e){t(function(e){return{type:x.fetchProfilesSuccess,payload:e}}(e))},c=function(e){t(function(e){return{type:H.fetchChannelsSuccess,payload:e}}(e))};e||setTimeout((function(){rt(P.a,n,h.profiles),rt(P.a,c,h.channels)}),1)}),[e]),null},st=n(42),ot=n(179),lt=n(91),ut=n(180),ft={error:"",isPending:!0},dt=function(e){return Object(G.a)(Object(G.a)({},e),{},{isPending:!1})},jt=function(e,t){var n=t.payload;return Object(G.a)(Object(G.a)({},e),{},{error:n,isPending:!1})},bt={channels:null,error:"",isPending:!0,selectedChannelId:""},Ot=function(e){return Object(G.a)(Object(G.a)({},e),{},{isPending:!0})},pt=function(e){return Object(G.a)(Object(G.a)({},e),{},{isPending:!1})},ht=function(e,t){var n=t.payload;return Object(G.a)(Object(G.a)({},e),{},{error:n,isPending:!1})},mt=function(e,t){var n=t.payload;return Object(G.a)(Object(G.a)({},e),{},{isPending:!1,channels:n})},vt=function(e){return Object(G.a)(Object(G.a)({},e),{},{isPending:!1})},gt=function(e,t){var n=t.payload;return Object(G.a)(Object(G.a)({},e),{},{selectedChannelId:n})},xt={data:null,error:"",isPending:!0,selectedProfileId:""},Pt=function(e){return Object(G.a)(Object(G.a)({},e),{},{isPending:!0})},_t=function(e){return Object(G.a)(Object(G.a)({},e),{},{isPending:!1})},Nt=function(e,t){var n=t.payload;return Object(G.a)(Object(G.a)({},e),{},{error:n,isPending:!1})},Ct=function(e,t){var n=t.payload;return Object(G.a)(Object(G.a)({},e),{},{isPending:!1,data:n})},kt=function(e){return Object(G.a)(Object(G.a)({},e),{},{isPending:!1})},yt=function(e,t){var n=t.payload;return Object(G.a)(Object(G.a)({},e),{},{selectedProfileId:n})},Mt={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze.loginSuccess:return dt(e);case ze.loginError:return jt(e,t);default:return e}},channels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.createChannel:return Ot(e);case H.createChannelSuccess:return pt(e);case H.createChannelsError:return ht(e,t);case H.fetchChannelsSuccess:return mt(e,t);case H.fetchChannelsError:return vt(e);case H.setChannelId:return gt(e,t);default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.createProfile:return Pt(e);case x.createProfileSuccess:return _t(e);case x.createProfileError:return Nt(e,t);case x.fetchProfilesSuccess:return Ct(e,t);case x.fetchProfilesError:return kt(e);case x.selectProfile:return yt(e,t);default:return e}}},St=function(){return Object(st.combineReducers)(Object(G.a)({},Mt))},It=n(181),Et=n(23),wt=n.n(Et),Ft=n(15),Tt=wt.a.mark(Ht);function Ht(e){var t,n;return wt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,P.a.auth().signInWithEmailAndPassword("eryk.sandecki@gmail.com",t);case 4:return c.next=6,Object(Ft.c)({type:ze.loginSuccess});case 6:c.next=13;break;case 8:return c.prev=8,c.t0=c.catch(1),n=c.t0.code,c.next=13,Object(Ft.c)((a=n,{type:ze.loginError,payload:a}));case 13:case"end":return c.stop()}var a}),Tt,null,[[1,8]])}var Lt=wt.a.mark(Dt);function Dt(){return wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ft.a)([Object(Ft.f)(ze.login,Ht)]);case 2:case"end":return e.stop()}}),Lt)}var Rt=n(90),At=function(e,t){var n=[],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";do{n.splice(0,n.length);for(var a=0;a<9;a++)n.push(c.charAt(Math.floor(Math.random()*c.length)))}while(e.find((function(e){return e[t]===n.join("")})));return n.join("")},Ut=wt.a.mark(Bt);function Bt(e){var t,n,c,a,r;return wt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.name,c=t.shortcut,i.next=4,Object(Ft.d)(le("channels"));case 4:return a=i.sent,r=At(a,"channelId"),i.prev=6,i.next=9,Object(Ft.b)(1e3);case 9:return i.next=11,_([h.channels]).set([].concat(Object(Rt.a)(a),[{channelId:r,name:n,shortcut:c}]));case 11:return i.next=13,Object(Ft.c)({type:H.createChannelSuccess});case 13:i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(6),i.next=19,Object(Ft.c)(ne(i.t0));case 19:case"end":return i.stop()}}),Ut,null,[[6,15]])}var zt=wt.a.mark(Wt);function Wt(){return wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ft.a)([Object(Ft.f)(H.createChannel,Bt)]);case 2:case"end":return e.stop()}}),zt)}var Vt=wt.a.mark(Gt);function Gt(e){var t,n,c,a,r,i,s;return wt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.action,c=t.file,a=t.path,o.prev=2,r=P.a.storage().ref(a).put(c),i=Object(lt.b)((function(e){return r.on("state_changed",e)})),s="",o.next=8,Object(Ft.f)(i,(function(){}));case 8:return o.next=10,r;case 10:return o.next=12,r.snapshot.ref.getDownloadURL().then((function(e){return s=e}));case 12:return o.next=14,Object(Ft.c)(n({result:"success",src:s}));case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(2),o.next=20,Object(Ft.c)(n({error:o.t0,result:"error"}));case 20:case"end":return o.stop()}}),Vt,null,[[2,16]])}var Jt;!function(e){e[e.uploadFile="".concat("common","/uploadFile")]="uploadFile"}(Jt||(Jt={}));var Yt=wt.a.mark(Kt);function Kt(){return wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ft.a)([Object(Ft.f)(Jt.uploadFile,Gt)]);case 2:case"end":return e.stop()}}),Yt)}var Qt=function(e){var t=e.error,n=e.result,c=e.src;if("error"===n)throw t;return c},Xt=function(e){return{type:Jt.uploadFile,payload:e}},qt=wt.a.mark(en),Zt=wt.a.mark(tn),$t=wt.a.mark(nn);function en(e){var t,n,c,r,i,s,o,l,u,f;return wt.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=t.backToProfileList,c=t.name,r=t.imageData.file,i="".concat(a.profiles,"/").concat(c),d.next=5,Object(Ft.d)(A("data"));case 5:return s=d.sent,o=At(s,"profileId"),d.prev=7,d.next=10,Object(Ft.c)(Xt({action:W,path:i,file:r}));case 10:return d.next=12,Object(Ft.e)(x.uploadImageFinished);case 12:return l=d.sent,u=l.payload,f=Qt(u),d.next=17,_([h.profiles]).set([].concat(Object(Rt.a)(s),[{lastUpdateTime:(new Date).getTime(),name:c,online:!1,profileId:o,src:f}]));case 17:return d.next=19,Object(Ft.c)({type:x.createProfileSuccess});case 19:return d.next=21,n();case 21:d.next=27;break;case 23:return d.prev=23,d.t0=d.catch(7),d.next=27,Object(Ft.c)(z(d.t0));case 27:case"end":return d.stop()}}),qt,null,[[7,23]])}function tn(e){var t,n,c;return wt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(Ft.d)(A("data"));case 3:return n=a.sent,c=n.findIndex((function(e){return e.profileId===t})),a.prev=5,a.next=8,_([h.profiles,c,"online"]).set(!0);case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(5),a.next=14,Object(Ft.c)((r=a.t0,{type:x.selectProfileError,payload:r}));case 14:case"end":return a.stop()}var r}),Zt,null,[[5,10]])}function nn(e){var t,n,c;return wt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(Ft.d)(A("data"));case 3:return n=a.sent,c=n.findIndex((function(e){return e.profileId===t})),a.prev=5,a.next=8,_([h.profiles,c,"lastUpdateTime"]).set((new Date).getTime());case 8:return a.next=10,Object(Ft.b)(6e4);case 10:return a.next=12,nn({payload:t});case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(5),a.next=18,Object(Ft.c)((r=a.t0,{type:x.updateTimeProfileError,payload:r}));case 18:case"end":return a.stop()}var r}),$t,null,[[5,14]])}var cn=wt.a.mark(an);function an(){return wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ft.a)([Object(Ft.f)(x.createProfile,en),Object(Ft.f)(x.selectProfile,tn),Object(Ft.f)(x.updateTimeProfile,nn)]);case 2:case"end":return e.stop()}}),cn)}var rn=[Dt,Wt,Kt,an],sn=function(e){var t,n=Object(It.a)(rn);try{for(n.s();!(t=n.n()).done;){var c=t.value;e.run(c)}}catch(a){n.e(a)}finally{n.f()}},on=Object(lt.a)(),ln=function(){var e=Object(st.createStore)(St(),{},Object(ot.composeWithDevTools)(st.applyMiddleware.apply(void 0,[ut.a].concat([on]))));return sn(on),e};n(355);o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsxs)(l.a,{store:ln(),children:[Object(b.jsx)(it,{}),Object(b.jsx)(et,{})]})}),document.getElementById("root"))}},[[356,1,2]]]);
//# sourceMappingURL=main.eb8fbe1b.chunk.js.map