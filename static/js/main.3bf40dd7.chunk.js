(this["webpackJsonpcomics-book"]=this["webpackJsonpcomics-book"]||[]).push([[0],{205:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},333:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var c,a,r=n(0),s=n.n(r),i=n(19),o=n.n(i),l=n(15),u=n(181),f=n(394),d=n(23),j=n.p+"static/media/send-icon.2dc21fc0.svg",b=(n(205),n(4)),h=Object(r.forwardRef)((function(e,t){var n=e.inputHandler,c=Object(r.useState)(!0),a=Object(d.a)(c,2),s=a[0],i=a[1];return Object(b.jsxs)("div",{className:"ChatInput",ref:t,children:[Object(b.jsx)("p",{className:"ChatInput__text-field",contentEditable:!0,onBlur:function(e){0===e.target.innerText.trim().length&&i(!0)},onFocus:function(){return i(!1)},onInput:n,suppressContentEditableWarning:!0}),s&&Object(b.jsx)("span",{className:"ChatInput__placeholder",children:"Message #Meetings:"}),Object(b.jsx)("img",{alt:"send-icon",className:"ChatInput__send-icon",src:j})]})})),O=(n(207),Object(r.forwardRef)((function(e,t){return Object(b.jsx)("div",{className:"ChatMessages",ref:t})})));!function(e){e.profileId="profileId",e.marginOffset="MARGIN_OFFSET"}(c||(c={})),function(e){e.profiles="PROFILES"}(a||(a={}));var m,p=Object(r.createContext)({margin:0,setMargin:function(){}}),v=function(e){var t=e.children,n=Object(r.useState)(parseInt(localStorage.getItem(c.marginOffset)||0)),a=Object(d.a)(n,2),s=a[0],i=a[1];return Object(b.jsx)(p.Provider,{value:{margin:s,setMargin:function(e){var t=s+e;(s>0||-1!==e)&&(i(t),localStorage.setItem(c.marginOffset,t))}},children:t})},g=(n(208),function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useContext)(p).margin;return Object(b.jsxs)("section",{className:"Chat",style:{height:"calc(100vh - ".concat(80+n,"px)")},children:[Object(b.jsx)(O,{ref:e}),Object(b.jsx)(h,{inputHandler:function(){var n=t.current.clientHeight;e.current.style.height="calc(100% - ".concat(n,"px)")},ref:t})]})}),x=n(13),P=n(397),_=n(393),N=n(353),C=n(396),k=n(398),y=n(395),S=n(391),I=n(392),M="channels";!function(e){e[e.createChannel="".concat(M,"/createChannel")]="createChannel",e[e.createChannelSuccess="".concat(M,"/createChannelSuccess")]="createChannelSuccess",e[e.createChannelsError="".concat(M,"/createChannelsError")]="createChannelsError",e[e.fetchChannelsSuccess="".concat(M,"/fetchChannelsSuccess")]="fetchChannelsSuccess",e[e.fetchChannelsError="".concat(M,"/fetchChannelsError")]="fetchChannelsError",e[e.uploadImageFinished="".concat(M,"/uploadImageFinished")]="uploadImageFinished",e[e.setChannelId="".concat(M,"/setChannelId")]="setChannelId"}(m||(m={}));var E,w=function(e){return{type:m.createChannelsError,payload:e}},F=n(52),H=n.n(F),L=n(80),D=n.n(L),R=n(29),T=n.n(R),A=n(177),B=n.n(A),z=n(81),U=n.n(z),W=n(31),V=T()(M),G=Object(W.a)(V,T()("isPending")),J=Object(W.a)(V,H()(U.a,T()("channels"))),Y=Object(W.a)(V,H()(T()("channelId"),B.a,T()("channels"))),K=function(e){return Object(W.a)(V,T()(e))},Q=(n(333),function(e){var t=e.closeModal,n=e.openNotifiaction,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),f=u[0],j=u[1],h=Object(r.useState)(!1),O=Object(d.a)(h,2),p=O[0],v=O[1],g=Object(l.c)(G),x=Object(l.b)();return Object(r.useEffect)((function(){!g&&p&&(t(),n())}),[g,p]),Object(b.jsxs)("form",{className:"NavMenuCreateChannelForm",onSubmit:function(e){var t;e.preventDefault(),s&&f&&(x((t={name:s,shortcut:f.toUpperCase()},{type:m.createChannel,payload:t})),v(!0))},children:[Object(b.jsx)("h2",{children:"Create channel:"}),Object(b.jsx)(y.a,{className:"NavMenuCreateChannelForm__input",onChange:function(e){return i(e.target.value)},label:"Channel name:",value:s}),Object(b.jsx)(y.a,{className:"NavMenuCreateChannelForm__input",onChange:function(e){return j(e.target.value)},label:"Shortcut channel name eg. (ME):",inputProps:{maxLength:2},value:f}),Object(b.jsxs)(S.a,{className:"ProfileForm__submit-button",color:"primary",disabled:g,size:"large",type:"submit",variant:"contained",children:["Create Channel",g&&Object(b.jsx)(I.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})}),X=n.p+"static/media/plus-white-icon.f41cd2c2.svg",q=(n(335),function(e){var t=e.closeNavMenu,n=Object(r.useState)(!1),c=Object(d.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!1),o=Object(d.a)(i,2),u=o[0],f=o[1],j=Object(l.b)(),h=Object(l.c)(K("channels")),O=function(e){return Object(b.jsx)(C.a,Object(x.a)({elevation:6,variant:"filled"},e))},p=function(e){var n;t(),j((n=e,{type:m.setChannelId,payload:n}))};return Object(b.jsxs)("div",{className:"NavMenuChannels",children:[Object(b.jsxs)("div",{className:"NavMenuChannels__nav",children:[Object(b.jsx)("p",{className:"NavMenuChannels__title",children:"Channels"}),Object(b.jsx)("img",{alt:"plus-white-icon",className:"NavMenuChannels__button",onClick:function(){return f(!0)},src:X})]}),Object(b.jsx)("div",{className:"NavMenuChannels__channels",children:h.map((function(e){var t=e.channelId,n=e.name;return Object(b.jsxs)("p",{className:"NavMenuChannels__channel-name",onClick:function(){return p(t)},children:["#",n]},t)}))}),Object(b.jsx)(P.a,{className:"NavMenuChannels__modal",closeAfterTransition:!0,open:u,onClose:function(){return f(!1)},BackdropComponent:_.a,BackdropProps:{timeout:500},children:Object(b.jsx)(N.a,{in:u,children:Object(b.jsx)("div",{className:"NavMenuChannels__card",children:Object(b.jsx)(Q,{closeModal:function(){return f(!1)},openNotifiaction:function(){return s(!0)}})})})}),Object(b.jsx)(k.a,{open:a,className:"NavMenuChannels__snackbar",autoHideDuration:5e3,onClose:function(){return s(!1)},children:Object(b.jsx)(O,{onClose:function(){return s(!1)},severity:"success",children:"Channel has been added!"})})]})}),Z=n.p+"static/media/close-white-icon.c6df9cb2.svg",$="profiles";!function(e){e[e.createProfile="".concat($,"/createProfile")]="createProfile",e[e.createProfileSuccess="".concat($,"/createProfileSuccess")]="createProfileSuccess",e[e.createProfileError="".concat($,"/createProfileError")]="createProfileError",e[e.fetchProfilesSuccess="".concat($,"/fetchProfilesSuccess")]="fetchProfilesSuccess",e[e.fetchProfilesError="".concat($,"/fetchProfilesError")]="fetchProfilesError",e[e.uploadImageFinished="".concat($,"/uploadImageFinished")]="uploadImageFinished",e[e.setProfileId="".concat($,"/setProfileId")]="setProfileId"}(E||(E={}));var ee,te=T()($),ne=Object(W.a)(te,T()("isPending")),ce=Object(W.a)(te,H()(U.a,T()("data"))),ae=function(e){return Object(W.a)(te,T()(e))},re=(n(336),function(e){var t=e.visible,n=e.setVisible,c=function(){return n(!1)},a=Object(l.c)(ae("seletedProfileId")),r=Object(l.c)(function(e){return Object(W.a)(te,H()(D()((function(t){return t.profileId===e})),T()("data")))}(a)),s=r.name,i=r.src;return Object(b.jsxs)("div",{className:"NavMenu ".concat(t&&"NavMenu--visible"),onClick:c,children:[Object(b.jsx)("div",{className:"NavMenu__background ".concat(t&&"NavMenu__background--visible")}),Object(b.jsxs)("div",{className:"NavMenu__container ".concat(t&&"NavMenu__container--visible"),onClick:function(e){return e.stopPropagation()},children:[Object(b.jsxs)("div",{className:"NavMenu__header",children:[Object(b.jsxs)("div",{className:"NavMenu__profile-data",children:[Object(b.jsx)("img",{alt:"profile-avatar",className:"NavMenu__profile-avatar",src:i}),Object(b.jsx)("p",{className:"NavMenu__profile-name",children:s})]}),Object(b.jsx)("img",{alt:"close-white-icon",className:"NavMenu__button-close",onClick:c,src:Z})]}),Object(b.jsx)("div",{className:"NavMenu__content",children:Object(b.jsx)(q,{closeNavMenu:c})})]})]})}),se=n(182),ie=n(399),oe=n.p+"static/media/close-icon.51d90ac8.svg",le=n.p+"static/media/gear-icon.7598d1ce.svg",ue=n.p+"static/media/modify-size-icon.54599b76.svg",fe=(n(337),function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useContext)(p).setMargin,s=function(){c(null)};return Object(b.jsxs)("div",{className:"PageHeaderSettingsMenu",children:[Object(b.jsx)("img",{alt:"gear-icon",onClick:function(e){c(e.currentTarget)},src:le}),Object(b.jsxs)(se.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:s,children:[Object(b.jsxs)(ie.a,{className:"PageHeaderSettingsMenu__item",onClick:function(){return a(1)},children:["Up",Object(b.jsx)("img",{alt:"gear-icon",src:ue})]}),Object(b.jsxs)(ie.a,{className:"PageHeaderSettingsMenu__item",onClick:function(){return a(-1)},children:["Down",Object(b.jsx)("img",{alt:"reverted-gear-icon",className:"PageHeaderSettingsMenu__icon-rotate",src:ue})]}),Object(b.jsxs)(ie.a,{className:"PageHeaderSettingsMenu__item",onClick:s,children:["Close",Object(b.jsx)("img",{alt:"close-icon",src:oe})]})]})]})}),de=n.p+"static/media/hamburger-menu.4f615ee5.svg",je=(n(338),function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(l.c)(Y),s=Object(l.c)(K("selectedChannelId"))||a,i=Object(l.c)(function(e){return Object(W.a)(V,H()(D()((function(t){return t.channelId===e})),T()("channels")))}(s)),o=i.name,u=i.shortcut;return Object(b.jsxs)("header",{className:"PageHeader",children:[Object(b.jsxs)("div",{className:"PageHeader__left-column",children:[Object(b.jsx)("div",{className:"PageHeader__channel-picker",children:u}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"PageHeader__title",children:["#",o]}),Object(b.jsx)("p",{className:"PageHeader__users",children:"2 Brothers online"})]})]}),Object(b.jsxs)("div",{className:"PageHeader__right-column",children:[Object(b.jsx)(fe,{}),Object(b.jsx)("img",{alt:"hamburger-menu",className:"PageHeader__hamburger-menu",onClick:function(){return c(!0)},src:de})]}),Object(b.jsx)(re,{visible:n,setVisible:c})]})}),be=n.p+"static/media/back.3f83d067.svg",he=n.p+"static/media/button-picture.7e1048a6.svg",Oe=n.p+"static/media/empty-image.16de0a9b.svg",me=function(e,t){var n=new FileReader,c=e.target.files;n.onload=function(e){t({file:c[0],src:e.target.result})},n.readAsDataURL(c[0])},pe=(n(339),function(e){var t=e.clickHandler,n=e.name,c=void 0===n?"":n,a=e.imageData,s=void 0===a?null:a,i=e.submitHandler,o=e.title,u=Object(l.c)(ne),f=Object(r.useRef)(null),j=Object(r.useState)(s),h=Object(d.a)(j,2),O=h[0],m=h[1],p=Object(r.useState)(c),v=Object(d.a)(p,2),g=v[0],x=v[1];return Object(b.jsxs)("div",{className:"ProfileForm__form-wrapper",children:[Object(b.jsxs)("h2",{className:"ProfileForm__title",children:[Object(b.jsx)("img",{alt:"back-icon",className:"ProfileForm__icon",onClick:t,src:be}),o]}),Object(b.jsxs)("form",{className:"ProfileForm",onSubmit:function(e){e.preventDefault(),O&&g&&i({backToProfileList:t,imageData:O,name:g})},children:[Object(b.jsxs)("div",{className:"ProfileForm__avatar ".concat(O?"ProfileForm__avatar--selected":""),children:[O?Object(b.jsx)("img",{alt:"avatar",className:"ProfileForm__image",src:O.src}):Object(b.jsx)("img",{alt:"empty",className:"ProfileForm__empty-picture",src:Oe}),Object(b.jsx)("img",{alt:"button-icon",className:"ProfileForm__button-picture",onClick:function(){return f.current.click()},src:he}),Object(b.jsx)("input",{className:"ProfileForm__input-file",onChange:function(e){return me(e,m)},ref:f,type:"file"})]}),Object(b.jsx)(y.a,{className:"ProfileForm__input-name",onChange:function(e){return x(e.target.value)},label:"Profile name:",value:g}),Object(b.jsxs)(S.a,{className:"ProfileForm__submit-button",color:"primary",disabled:u,size:"large",type:"submit",variant:"contained",children:["Create Profile",u&&Object(b.jsx)(I.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})]})}),ve=function(e){return{type:E.createProfileError,payload:e}},ge=function(e){return{type:E.uploadImageFinished,payload:e}},xe=function(e){var t=Object.assign({},e),n=Object(l.b)();return Object(b.jsx)(pe,Object(x.a)({submitHandler:function(e){return n((t=e,{type:E.createProfile,payload:t}));var t},title:"Create Profile:"},t))},Pe=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},_e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=n.shouldPreventDefault,a=void 0===c||c,s=n.delay,i=void 0===s?1e3:s,o=Object(r.useState)(!1),l=Object(d.a)(o,2),u=l[0],f=l[1],j=Object(r.useRef)(),b=Object(r.useRef)(),h=Object(r.useCallback)((function(t){a&&t.target&&(t.target.addEventListener("touchend",Pe,{passive:!1}),b.current=t.target),j.current=setTimeout((function(){e(t),f(!0)}),i)}),[e,i,a]),O=Object(r.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];j.current&&clearTimeout(j.current),n&&!u&&t(),f(!1),a&&b.current&&b.current.removeEventListener("touchend",Pe)}),[a,t,u]);return{onMouseDown:function(e){return h(e)},onTouchStart:function(e){return h(e)},onMouseUp:function(e){return O(e)},onMouseLeave:function(e){return O(e,!1)},onTouchEnd:function(e){return O(e)}}},Ne=n.p+"static/media/plus.553def23.svg",Ce=(n(340),function(e){var t=e.clickHandler,n=e.mode,c=void 0===n?"add":n,a=e.name,s=e.src,i=Object(r.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],f="select"===c&&l,j=_e((function(){u(!0)}),(function(){t()}));return Object(b.jsxs)("section",{className:"ProfilePicker ".concat(f?"ProfilePicker--blur":""),children:[Object(b.jsxs)("div",Object(x.a)(Object(x.a)({className:"ProfilePicker__card ProfilePicker--".concat(c,"__card ").concat(f?"ProfilePicker__card--blur":"")},j),{},{children:[Object(b.jsx)("p",{className:"ProfilePicker__title ProfilePicker--".concat(c,"__title"),children:a||"Create:"}),Object(b.jsx)("div",{className:"ProfilePicker__button ProfilePicker--".concat(c,"__button"),children:Object(b.jsx)("img",{alt:a?"".concat(a,"-avatar"):"icon",className:"ProfilePicker__image ProfilePicker--".concat(c,"__image"),src:s||Ne})})]})),f&&Object(b.jsx)("div",{className:"ProfilePicker__overlay"})]})});!function(e){e.createProfile="createProfile",e.listProfiles="listProfiles"}(ee||(ee={}));n(341);var ke,ye=function(e){var t=e.clickHandler,n=Object(l.b)(),c=Object(l.c)(ae("data"));return Object(b.jsxs)("section",{className:"ProfilePickerList",children:[Object(b.jsx)("h1",{className:"ProfilePickerList__title",children:"Choose a brother-in-law:"}),Object(b.jsx)("p",{className:"ProfilePickerList__description",children:"Select a profile to start a conversation with your brother-in-law."}),Object(b.jsxs)("div",{className:"ProfilePickerList__pickers",children:[Object(b.jsx)(Ce,{clickHandler:function(){return t(ee.createProfile)}}),c.map((function(e){var t=e.name,c=e.profileId,a=e.src;return Object(b.jsx)(Ce,{clickHandler:function(){return n((e=c,{type:E.setProfileId,payload:e}));var e},mode:"select",name:t,src:a},c)}))]})]})},Se=(n(342),function(){var e=Object(r.useState)(ee.listProfiles),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(b.jsx)("section",{className:"ProfilePickerSection",children:n===ee.listProfiles?Object(b.jsx)(ye,{clickHandler:function(e){return c(e)}}):Object(b.jsx)(xe,{clickHandler:function(){return c(ee.listProfiles)}})})}),Ie=n.p+"static/media/gentleman.154e51ca.svg",Me=(n(343),function(e){e.appDataLoaded;return Object(b.jsxs)("div",{className:"PageLoader",children:[Object(b.jsx)("h2",{className:"PageLoader__title",children:"WELCOME GENTLEMAN"}),Object(b.jsx)("img",{alt:"gentleman-logo",src:Ie}),Object(b.jsx)("div",{className:"PageLoader__spinner",children:Array.from(Array(12)).map((function(e,t){return Object(b.jsx)("div",{className:"PageLoader__circle PageLoader__circle--".concat(t+1)},t)}))})]})}),Ee="auth";!function(e){e[e.login="".concat(Ee,"/login")]="login",e[e.loginSuccess="".concat(Ee,"/loginSuccess")]="loginSuccess",e[e.loginError="".concat(Ee,"/loginError")]="loginError"}(ke||(ke={}));var we,Fe=T()(Ee),He=Object(W.a)(Fe,T()("error")),Le=Object(W.a)(Fe,T()("isPending")),De=Object(W.a)(Le,He,(function(e,t){return!e&&!t})),Re=Object(W.a)(ce,J,(function(e,t){return e&&t})),Te=(n(344),function(){var e=Object(l.c)(ae("seletedProfileId")),t=Object(l.c)(Re);return t?e?Object(b.jsxs)("div",{className:"Page",children:[Object(b.jsx)(je,{}),Object(b.jsx)(g,{})]}):Object(b.jsx)(Se,{}):Object(b.jsx)(Me,{appDataLoaded:t})}),Ae=function(){Object(l.c)(Le),Object(l.b)(),Object(l.c)(He);var e=Object(r.useMemo)((function(){return Object(u.a)({palette:{type:"dark"}})}),[]);return Object(b.jsx)(f.a,{theme:e,children:Object(b.jsx)(v,{children:Object(b.jsx)(Te,{})})})},Be=n(37),ze={apiKey:"AIzaSyBYQ05TbRrP2wVEX7NDn5CWodoAnnkpcOY",authDomain:"comics-book.firebaseapp.com",projectId:"comics-book",storageBucket:"comics-book.appspot.com",messagingSenderId:"426496482303",appId:"1:426496482303:web:ebf257ff0a64a90f6ae5ca"};!function(e){e.profiles="profiles",e.channels="channels"}(we||(we={}));var Ue=function(e){console.error(e)},We=function(e){for(var t=Object.keys(e),n=[],c=0;c<t.length;c++)n.push(e[t[c]]);return n},Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.val();t(We(n||{}))},Ge=function(e,t,n){e.database().ref(n).on("value",(function(e){return Ve(e,t)}),Ue)},Je=function(){var e=Object(l.c)(De),t=Object(l.b)();return Object(r.useEffect)((function(){Be.a.initializeApp(ze)}),[]),Object(r.useEffect)((function(){var n=function(e){t(function(e){return{type:E.fetchProfilesSuccess,payload:e}}(e))},c=function(e){t(function(e){return{type:m.fetchChannelsSuccess,payload:e}}(e))};e||setTimeout((function(){Ge(Be.a,n,we.profiles),Ge(Be.a,c,we.channels)}),1)}),[e]),null},Ye=n(42),Ke=n(178),Qe=n(91),Xe=n(179),qe={error:"",isPending:!0,profileId:""},Ze=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{isPending:!1,profileId:n})},$e=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{error:n,isPending:!1})},et={channels:null,error:"",isPending:!0,selectedChannelId:""},tt=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!0})},nt=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!1})},ct=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{error:n,isPending:!1})},at=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{isPending:!1,channels:n})},rt=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!1})},st=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{selectedChannelId:n})},it={data:null,error:"",isPending:!0,seletedProfileId:""},ot=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!0})},lt=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!1})},ut=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{error:n,isPending:!1})},ft=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{isPending:!1,data:n})},dt=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!1})},jt=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{seletedProfileId:n})},bt={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.loginSuccess:return Ze(e,t);case ke.loginError:return $e(e,t);default:return e}},channels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.createChannel:return tt(e);case m.createChannelSuccess:return nt(e);case m.createChannelsError:return ct(e,t);case m.fetchChannelsSuccess:return at(e,t);case m.fetchChannelsError:return rt(e);case m.setChannelId:return st(e,t);default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.createProfile:return ot(e);case E.createProfileSuccess:return lt(e);case E.createProfileError:return ut(e,t);case E.fetchProfilesSuccess:return ft(e,t);case E.fetchProfilesError:return dt(e);case E.setProfileId:return jt(e,t);default:return e}}},ht=function(){return Object(Ye.combineReducers)(Object(x.a)({},bt))},Ot=n(180),mt=n(24),pt=n.n(mt),vt=n(18),gt=function(e){return{type:ke.loginError,payload:e}},xt=pt.a.mark(Pt);function Pt(e){var t,n,a;return pt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,n=localStorage.getItem(c.profileId)||"",r.prev=2,r.next=5,Be.a.auth().signInWithEmailAndPassword("eryk.sandecki@gmail.com",t);case 5:return r.next=7,Object(vt.c)((s=n,{type:ke.loginSuccess,payload:s}));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(2),a=r.t0.code,r.next=14,Object(vt.c)(gt(a));case 14:case"end":return r.stop()}var s}),xt,null,[[2,9]])}var _t=pt.a.mark(Nt);function Nt(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vt.a)([Object(vt.f)(ke.login,Pt)]);case 2:case"end":return e.stop()}}),_t)}var Ct=n(90),kt=function(e,t){var n=[],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";do{n.splice(0,n.length);for(var a=0;a<9;a++)n.push(c.charAt(Math.floor(Math.random()*c.length)))}while(e.find((function(e){return e[t]===n.join("")})));return n.join("")},yt=function(e){for(var t=Be.a.database().ref(e[0]),n=1;n<e.length;n++)t=t.child(e[n]);return t},St=pt.a.mark(It);function It(e){var t,n,c,a,r;return pt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.name,c=t.shortcut,s.next=4,Object(vt.d)(K("channels"));case 4:return a=s.sent,r=kt(a,"channelId"),s.prev=6,s.next=9,Object(vt.b)(1e3);case 9:return s.next=11,yt([we.channels]).set([].concat(Object(Ct.a)(a),[{channelId:r,name:n,shortcut:c}]));case 11:return s.next=13,Object(vt.c)({type:m.createChannelSuccess});case 13:s.next=19;break;case 15:return s.prev=15,s.t0=s.catch(6),s.next=19,Object(vt.c)(w(s.t0));case 19:case"end":return s.stop()}}),St,null,[[6,15]])}var Mt=pt.a.mark(Et);function Et(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vt.a)([Object(vt.f)(m.createChannel,It)]);case 2:case"end":return e.stop()}}),Mt)}var wt=pt.a.mark(Ft);function Ft(e){var t,n,c,a,r,s,i;return pt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.action,c=t.file,a=t.path,o.prev=2,r=Be.a.storage().ref(a).put(c),s=Object(Qe.b)((function(e){return r.on("state_changed",e)})),i="",o.next=8,Object(vt.f)(s,(function(){}));case 8:return o.next=10,r;case 10:return o.next=12,r.snapshot.ref.getDownloadURL().then((function(e){return i=e}));case 12:return o.next=14,Object(vt.c)(n({result:"success",src:i}));case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(2),o.next=20,Object(vt.c)(n({error:o.t0,result:"error"}));case 20:case"end":return o.stop()}}),wt,null,[[2,16]])}var Ht;!function(e){e[e.uploadFile="".concat("common","/uploadFile")]="uploadFile"}(Ht||(Ht={}));var Lt=pt.a.mark(Dt);function Dt(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vt.a)([Object(vt.f)(Ht.uploadFile,Ft)]);case 2:case"end":return e.stop()}}),Lt)}var Rt=function(e){var t=e.error,n=e.result,c=e.src;if("error"===n)throw t;return c},Tt=function(e){return{type:Ht.uploadFile,payload:e}},At=pt.a.mark(Bt);function Bt(e){var t,n,c,r,s,i,o,l,u,f;return pt.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=t.backToProfileList,c=t.name,r=t.imageData.file,s="".concat(a.profiles,"/").concat(c),d.next=5,Object(vt.d)(ae("data"));case 5:return i=d.sent,o=kt(i,"profileId"),d.prev=7,d.next=10,Object(vt.c)(Tt({action:ge,path:s,file:r}));case 10:return d.next=12,Object(vt.e)(E.uploadImageFinished);case 12:return l=d.sent,u=l.payload,f=Rt(u),d.next=17,yt([we.profiles]).set([].concat(Object(Ct.a)(i),[{name:c,online:!1,profileId:o,src:f}]));case 17:return d.next=19,Object(vt.c)({type:E.createProfileSuccess});case 19:return d.next=21,n();case 21:d.next=27;break;case 23:return d.prev=23,d.t0=d.catch(7),d.next=27,Object(vt.c)(ve(d.t0));case 27:case"end":return d.stop()}}),At,null,[[7,23]])}var zt=pt.a.mark(Ut);function Ut(){return pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vt.a)([Object(vt.f)(E.createProfile,Bt)]);case 2:case"end":return e.stop()}}),zt)}var Wt=[Nt,Et,Dt,Ut],Vt=function(e){var t,n=Object(Ot.a)(Wt);try{for(n.s();!(t=n.n()).done;){var c=t.value;e.run(c)}}catch(a){n.e(a)}finally{n.f()}},Gt=Object(Qe.a)(),Jt=function(){var e=Object(Ye.createStore)(ht(),{},Object(Ke.composeWithDevTools)(Ye.applyMiddleware.apply(void 0,[Xe.a].concat([Gt]))));return Vt(Gt),e};n(351);o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsxs)(l.a,{store:Jt(),children:[Object(b.jsx)(Je,{}),Object(b.jsx)(Ae,{})]})}),document.getElementById("root"))}},[[352,1,2]]]);
//# sourceMappingURL=main.3bf40dd7.chunk.js.map