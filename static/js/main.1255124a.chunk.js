(this["webpackJsonpcomics-book"]=this["webpackJsonpcomics-book"]||[]).push([[0],{177:function(e,t,r){},179:function(e,t,r){},180:function(e,t,r){},181:function(e,t,r){},182:function(e,t,r){},306:function(e,t,r){},308:function(e,t,r){},309:function(e,t,r){},310:function(e,t,r){},311:function(e,t,r){},312:function(e,t,r){},319:function(e,t,r){},320:function(e,t,r){"use strict";r.r(t);var c,n=r(0),a=r.n(n),i=r(17),o=r.n(i),s=r(23),l=r(162),u=r(356),f=r(35),d=r.p+"static/media/send-icon.d7969ca4.svg",j=(r(177),r(5)),b=Object(n.forwardRef)((function(e,t){var r=e.inputHandler,c=Object(n.useState)(!0),a=Object(f.a)(c,2),i=a[0],o=a[1];return Object(j.jsxs)("div",{className:"ChatInput",ref:t,children:[Object(j.jsx)("p",{className:"ChatInput__text-field",contentEditable:!0,onBlur:function(e){""===e.target.innerText&&o(!0)},onFocus:function(){return o(!1)},onInput:r,suppressContentEditableWarning:!0}),i&&Object(j.jsx)("span",{className:"ChatInput__placeholder",children:"Message #Meetings:"}),Object(j.jsx)("img",{alt:"send-icon",className:"ChatInput__send-icon",src:d})]})})),p=(r(179),Object(n.forwardRef)((function(e,t){return Object(j.jsx)("div",{className:"ChatMessages",ref:t})}))),m=(r(180),function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null);return Object(j.jsxs)("section",{className:"Chat",children:[Object(j.jsx)(p,{ref:e}),Object(j.jsx)(b,{inputHandler:function(r){var c=t.current.clientHeight;e.current.style.height="calc(100% - ".concat(c,"px)")},ref:t})]})}),O=r.p+"static/media/close.91205169.svg",v=(r(181),function(e){var t=e.visible,r=e.setVisible,c=function(){return r(!1)};return Object(j.jsxs)("div",{className:"NavMenu ".concat(t&&"NavMenu--visible"),onClick:c,children:[Object(j.jsx)("div",{className:"NavMenu__background ".concat(t&&"NavMenu__background--visible")}),Object(j.jsx)("div",{className:"NavMenu__container ".concat(t&&"NavMenu__container--visible"),onClick:function(e){return e.stopPropagation()},children:Object(j.jsx)("div",{className:"NavMenu__header",children:Object(j.jsx)("div",{className:"NavMenu__button-close",children:Object(j.jsx)("img",{alt:"close-icon",onClick:c,src:O})})})})]})}),h=r.p+"static/media/hamburger-menu.85ddbb0d.svg",P=(r(182),function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),r=t[0],c=t[1];return Object(j.jsxs)("header",{className:"PageHeader",children:[Object(j.jsxs)("div",{className:"PageHeader__content",children:[Object(j.jsx)("div",{className:"PageHeader__channel-picker",children:"ME"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"PageHeader__title",children:"Gentleman App - Meetings"}),Object(j.jsx)("p",{className:"PageHeader__users",children:"2 Brothers-in-law online"})]})]}),Object(j.jsx)("img",{alt:"hamburger-menu",className:"PageHeader__hamburger-menu",onClick:function(){return c(!0)},src:h}),Object(j.jsx)(v,{visible:r,setVisible:c})]})}),g=r(22),x=r(357),_=r(358),k=r(355),N=r.p+"static/media/back.3f83d067.svg",y=r.p+"static/media/button-picture.9659aaae.svg",I=r.p+"static/media/empty-image.16de0a9b.svg",w=function(e,t){var r=new FileReader,c=e.target.files;r.onload=function(e){t({file:c[0],src:e.target.result})},r.readAsDataURL(c[0])},S=r(36),E=r.n(S),F=r(157),C=r.n(F),M=r(158),H=r.n(M),L=r(31),D="profiles";!function(e){e[e.createProfile="".concat(D,"/createProfile")]="createProfile",e[e.createProfileSuccess="".concat(D,"/createProfileSuccess")]="createProfileSuccess",e[e.createProfileError="".concat(D,"/createProfileError")]="createProfileError",e[e.fetchProfilesSuccess="".concat(D,"/fetchProfilesSuccess")]="fetchProfilesSuccess",e[e.fetchProfilesError="".concat(D,"/fetchProfilesError")]="fetchProfilesError",e[e.uploadImageFinished="".concat(D,"/uploadImageFinished")]="uploadImageFinished",e[e.setProfileId="".concat(D,"/setProfileId")]="setProfileId"}(c||(c={}));var R,A=E()(D),T=Object(L.a)(A,E()("isPending")),B=Object(L.a)(A,H()(C.a,E()("data"))),W=function(e){return Object(L.a)(A,E()(e))},z=(r(306),function(e){var t=e.clickHandler,r=e.name,c=void 0===r?"":r,a=e.imageData,i=void 0===a?null:a,o=e.submitHandler,l=e.title,u=Object(s.c)(T),d=Object(n.useRef)(null),b=Object(n.useState)(i),p=Object(f.a)(b,2),m=p[0],O=p[1],v=Object(n.useState)(c),h=Object(f.a)(v,2),P=h[0],g=h[1];return Object(j.jsxs)("div",{className:"ProfileForm__form-wrapper",children:[Object(j.jsxs)("h2",{className:"ProfileForm__title",children:[Object(j.jsx)("img",{alt:"back-icon",className:"ProfileForm__icon",onClick:t,src:N}),l]}),Object(j.jsxs)("form",{className:"ProfileForm",onSubmit:function(e){e.preventDefault(),m&&P&&o({backToProfileList:t,imageData:m,name:P})},children:[Object(j.jsxs)("div",{className:"ProfileForm__avatar ".concat(m?"ProfileForm__avatar--selected":""),children:[m?Object(j.jsx)("img",{alt:"avatar",className:"ProfileForm__image",src:m.src}):Object(j.jsx)("img",{alt:"empty",className:"ProfileForm__empty-picture",src:I}),Object(j.jsx)("img",{alt:"button-icon",className:"ProfileForm__button-picture",onClick:function(){return d.current.click()},src:y}),Object(j.jsx)("input",{className:"ProfileForm__input-file",onChange:function(e){return w(e,O)},ref:d,type:"file"})]}),Object(j.jsx)(x.a,{className:"ProfileForm__input-name",onChange:function(e){return g(e.target.value)},label:"Profile name:",value:P}),Object(j.jsxs)(_.a,{className:"ProfileForm__submit-button",color:"primary",disabled:u,size:"large",type:"submit",variant:"contained",children:["Create Profile",u&&Object(j.jsx)(k.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})]})}),V=function(e){return{type:c.createProfileError,payload:e}},G=function(e){return{type:c.uploadImageFinished,payload:e}},J=function(e){var t=Object.assign({},e),r=Object(s.b)();return Object(j.jsx)(z,Object(g.a)({submitHandler:function(e){return r((t=e,{type:c.createProfile,payload:t}));var t},title:"Create Profile:"},t))},U=r.p+"static/media/plus.c453ef1e.svg",Y=(r(308),function(e){var t=e.clickHandler,r=e.mode,c=void 0===r?"add":r,n=e.name,a=e.src;return Object(j.jsxs)("section",{className:"ProfilePicker ProfilePicker--".concat(c),onClick:t,children:[Object(j.jsx)("p",{className:"ProfilePicker__title ProfilePicker--".concat(c,"__title"),children:n||"Create:"}),Object(j.jsx)("div",{className:"ProfilePicker__button ProfilePicker--".concat(c,"__button"),children:Object(j.jsx)("img",{alt:n?"".concat(n,"-avatar"):"icon",className:"ProfilePicker__image ProfilePicker--".concat(c,"__image"),src:a||U})})]})});!function(e){e.createProfile="createProfile",e.listProfiles="listProfiles"}(R||(R={}));r(309);var K,Q=function(e){var t=e.clickHandler,r=Object(s.b)(),n=Object(s.c)(W("data"));return Object(j.jsxs)("section",{className:"ProfilePickerList",children:[Object(j.jsx)("h1",{className:"ProfilePickerList__title",children:"Choose a brother-in-law:"}),Object(j.jsx)("p",{className:"ProfilePickerList__description",children:"Select a profile to start a conversation with your brother-in-law."}),Object(j.jsxs)("div",{className:"ProfilePickerList__pickers",children:[Object(j.jsx)(Y,{clickHandler:function(){return t(R.createProfile)}}),n.map((function(e){var t=e.name,n=e.profileId,a=e.src;return Object(j.jsx)(Y,{clickHandler:function(){return r((e=n,{type:c.setProfileId,payload:e}));var e},mode:"select",name:t,src:a},n)}))]})]})},X=(r(310),function(){var e=Object(n.useState)(R.listProfiles),t=Object(f.a)(e,2),r=t[0],c=t[1];return Object(j.jsx)("section",{className:"ProfilePickerSection",children:r===R.listProfiles?Object(j.jsx)(Q,{clickHandler:function(e){return c(e)}}):Object(j.jsx)(J,{clickHandler:function(){return c(R.listProfiles)}})})}),q=r.p+"static/media/gentleman.ff3326dc.svg",Z=(r(311),function(e){e.appDataLoaded;return Object(j.jsxs)("div",{className:"PageLoader",children:[Object(j.jsx)("h2",{className:"PageLoader__title",children:"WELCOME GENTLEMAN"}),Object(j.jsx)("img",{alt:"gentleman-logo",src:q}),Object(j.jsx)("div",{className:"PageLoader__spinner",children:Array.from(Array(12)).map((function(e,t){return Object(j.jsx)("div",{className:"PageLoader__circle PageLoader__circle--".concat(t+1)},t)}))})]})}),$="auth";!function(e){e[e.login="".concat($,"/login")]="login",e[e.loginSuccess="".concat($,"/loginSuccess")]="loginSuccess",e[e.loginError="".concat($,"/loginError")]="loginError"}(K||(K={}));var ee,te=E()($),re=Object(L.a)(te,E()("error")),ce=Object(L.a)(te,E()("isPending")),ne=Object(L.a)(ce,re,(function(e,t){return!e&&!t})),ae=Object(L.a)(B,(function(e){return e})),ie=(r(312),function(){var e=Object(s.c)(W("seletedProfileId")),t=Object(s.c)(ae);return t?e?Object(j.jsxs)("div",{className:"Page",children:[Object(j.jsx)(P,{}),Object(j.jsx)(m,{})]}):Object(j.jsx)(X,{}):Object(j.jsx)(Z,{appDataLoaded:t})}),oe=function(){Object(s.c)(ce),Object(s.b)(),Object(s.c)(re);var e=Object(n.useMemo)((function(){return Object(l.a)({palette:{type:"dark"}})}),[]);return Object(j.jsxs)(u.a,{theme:e,children:[Object(j.jsx)(ie,{}),";"]})},se=r(34),le={apiKey:"AIzaSyBYQ05TbRrP2wVEX7NDn5CWodoAnnkpcOY",authDomain:"comics-book.firebaseapp.com",projectId:"comics-book",storageBucket:"comics-book.appspot.com",messagingSenderId:"426496482303",appId:"1:426496482303:web:ebf257ff0a64a90f6ae5ca"};!function(e){e.profiles="profiles"}(ee||(ee={}));var ue,fe,de=function(e){console.error(e)},je=function(e){for(var t=Object.keys(e),r=[],c=0;c<t.length;c++)r.push(e[t[c]]);return r},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.val();t(je(r||{}))},pe=function(e,t,r){e.database().ref(r).on("value",(function(e){return be(e,t)}),de)},me=function(){var e=Object(s.c)(ne),t=Object(s.b)();return Object(n.useEffect)((function(){se.a.initializeApp(le)}),[]),Object(n.useEffect)((function(){var r=function(e){t(function(e){return{type:c.fetchProfilesSuccess,payload:e}}(e))};e||setTimeout((function(){pe(se.a,r,ee.profiles)}),1)}),[e]),null},Oe=r(39),ve=r(159),he=r(75),Pe=r(160),ge={error:"",isPending:!0,profileId:""},xe=function(e,t){var r=t.payload;return Object(g.a)(Object(g.a)({},e),{},{isPending:!1,profileId:r})},_e=function(e,t){var r=t.payload;return Object(g.a)(Object(g.a)({},e),{},{error:r,isPending:!1})},ke={data:null,error:"",isPending:!0,seletedProfileId:""},Ne=function(e){return Object(g.a)(Object(g.a)({},e),{},{isPending:!0})},ye=function(e){return Object(g.a)(Object(g.a)({},e),{},{isPending:!1})},Ie=function(e,t){var r=t.payload;return Object(g.a)(Object(g.a)({},e),{},{error:r,isPending:!1})},we=function(e,t){var r=t.payload;return Object(g.a)(Object(g.a)({},e),{},{isPending:!1,data:r})},Se=function(e){return Object(g.a)(Object(g.a)({},e),{},{isPending:!1})},Ee=function(e,t){var r=t.payload;return Object(g.a)(Object(g.a)({},e),{},{seletedProfileId:r})},Fe={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.loginSuccess:return xe(e,t);case K.loginError:return _e(e,t);default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.createProfile:return Ne(e);case c.createProfileSuccess:return ye(e);case c.createProfileError:return Ie(e,t);case c.fetchProfilesSuccess:return we(e,t);case c.fetchProfilesError:return Se(e);case c.setProfileId:return Ee(e,t);default:return e}}},Ce=function(){return Object(Oe.combineReducers)(Object(g.a)({},Fe))},Me=r(161),He=r(24),Le=r.n(He),De=r(21);!function(e){e.profileId="profileId"}(ue||(ue={})),function(e){e.profiles="PROFILES"}(fe||(fe={}));var Re=function(e){return{type:K.loginError,payload:e}},Ae=Le.a.mark(Te);function Te(e){var t,r,c;return Le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,r=localStorage.getItem(ue.profileId)||"",n.prev=2,n.next=5,se.a.auth().signInWithEmailAndPassword("eryk.sandecki@gmail.com",t);case 5:return n.next=7,Object(De.b)((a=r,{type:K.loginSuccess,payload:a}));case 7:n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),c=n.t0.code,n.next=14,Object(De.b)(Re(c));case 14:case"end":return n.stop()}var a}),Ae,null,[[2,9]])}var Be=Le.a.mark(We);function We(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(K.login,Te)]);case 2:case"end":return e.stop()}}),Be)}var ze=Le.a.mark(Ve);function Ve(e){var t,r,c,n,a,i,o;return Le.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,r=t.action,c=t.file,n=t.path,s.prev=2,a=se.a.storage().ref(n).put(c),i=Object(he.b)((function(e){return a.on("state_changed",e)})),o="",s.next=8,Object(De.e)(i,(function(){}));case 8:return s.next=10,a;case 10:return s.next=12,a.snapshot.ref.getDownloadURL().then((function(e){return o=e}));case 12:return s.next=14,Object(De.b)(r({result:"success",src:o}));case 14:s.next=20;break;case 16:return s.prev=16,s.t0=s.catch(2),s.next=20,Object(De.b)(r({error:s.t0,result:"error"}));case 20:case"end":return s.stop()}}),ze,null,[[2,16]])}var Ge;!function(e){e[e.uploadFile="".concat("common","/uploadFile")]="uploadFile"}(Ge||(Ge={}));var Je=Le.a.mark(Ue);function Ue(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(Ge.uploadFile,Ve)]);case 2:case"end":return e.stop()}}),Je)}var Ye=r(163),Ke=function(e){var t=e.error,r=e.result,c=e.src;if("error"===r)throw t;return c},Qe=function(e){var t=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";do{t.splice(0,t.length);for(var c=0;c<9;c++)t.push(r.charAt(Math.floor(Math.random()*r.length)))}while(e.find((function(e){return e.profileId===t.join("")})));return t.join("")},Xe=function(e){for(var t=se.a.database().ref(e[0]),r=1;r<e.length;r++)t=t.child(e[r]);return t},qe=function(e){return{type:Ge.uploadFile,payload:e}},Ze=Le.a.mark($e);function $e(e){var t,r,n,a,i,o,s,l,u,f;return Le.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,r=t.backToProfileList,n=t.name,a=t.imageData.file,i="".concat(fe.profiles,"/").concat(n),d.next=5,Object(De.c)(W("data"));case 5:return o=d.sent,s=Qe(o),d.prev=7,d.next=10,Object(De.b)(qe({action:G,path:i,file:a}));case 10:return d.next=12,Object(De.d)(c.uploadImageFinished);case 12:return l=d.sent,u=l.payload,f=Ke(u),d.next=17,Xe([ee.profiles]).set([].concat(Object(Ye.a)(o),[{name:n,online:!1,profileId:s,src:f}]));case 17:return d.next=19,Object(De.b)({type:c.createProfileSuccess});case 19:return d.next=21,r();case 21:d.next=27;break;case 23:return d.prev=23,d.t0=d.catch(7),d.next=27,Object(De.b)(V(d.t0));case 27:case"end":return d.stop()}}),Ze,null,[[7,23]])}var et=Le.a.mark(tt);function tt(){return Le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(c.createProfile,$e)]);case 2:case"end":return e.stop()}}),et)}var rt=[We,Ue,tt],ct=function(e){var t,r=Object(Me.a)(rt);try{for(r.s();!(t=r.n()).done;){var c=t.value;e.run(c)}}catch(n){r.e(n)}finally{r.f()}},nt=Object(he.a)(),at=function(){var e=Object(Oe.createStore)(Ce(),{},Object(ve.composeWithDevTools)(Oe.applyMiddleware.apply(void 0,[Pe.a].concat([nt]))));return ct(nt),e};r(319);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsxs)(s.a,{store:at(),children:[Object(j.jsx)(me,{}),Object(j.jsx)(oe,{})]})}),document.getElementById("root"))}},[[320,1,2]]]);
//# sourceMappingURL=main.1255124a.chunk.js.map