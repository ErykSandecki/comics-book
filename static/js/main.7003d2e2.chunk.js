(this["webpackJsonpcomics-book"]=this["webpackJsonpcomics-book"]||[]).push([[0],{205:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},333:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){"use strict";n.r(t);var c,a,r=n(0),s=n.n(r),i=n(19),o=n.n(i),l=n(14),u=n(181),f=n(395),d=n(23),j=n.p+"static/media/send-icon.2dc21fc0.svg",b=(n(205),n(4)),h=Object(r.forwardRef)((function(e,t){var n=e.inputHandler,c=Object(r.useState)(!0),a=Object(d.a)(c,2),s=a[0],i=a[1];return Object(b.jsxs)("div",{className:"ChatInput",ref:t,children:[Object(b.jsx)("p",{className:"ChatInput__text-field",contentEditable:!0,onBlur:function(e){0===e.target.innerText.trim().length&&i(!0)},onFocus:function(){return i(!1)},onInput:n,suppressContentEditableWarning:!0}),s&&Object(b.jsx)("span",{className:"ChatInput__placeholder",children:"Message #Meetings:"}),Object(b.jsx)("img",{alt:"send-icon",className:"ChatInput__send-icon",src:j})]})})),O=(n(207),Object(r.forwardRef)((function(e,t){return Object(b.jsx)("div",{className:"ChatMessages",ref:t})})));!function(e){e.profileId="profileId",e.marginOffset="MARGIN_OFFSET"}(c||(c={})),function(e){e.profiles="PROFILES"}(a||(a={}));var m,p=Object(r.createContext)({margin:0,setMargin:function(){}}),v=function(e){var t=e.children,n=Object(r.useState)(parseInt(localStorage.getItem(c.marginOffset)||0)),a=Object(d.a)(n,2),s=a[0],i=a[1];return Object(b.jsx)(p.Provider,{value:{margin:s,setMargin:function(e){var t=s+e;(s>0||-1!==e)&&(i(t),localStorage.setItem(c.marginOffset,t))}},children:t})},g=(n(208),function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useContext)(p).margin;return Object(b.jsxs)("section",{className:"Chat",style:{height:"calc(100vh - ".concat(80+n,"px)")},children:[Object(b.jsx)(O,{ref:e}),Object(b.jsx)(h,{inputHandler:function(){var n=t.current.clientHeight;e.current.style.height="calc(100% - ".concat(n,"px)")},ref:t})]})}),x=n(13),P=n(398),_=n(394),N=n(354),C=n(397),k=n(399),y=n(396),M=n(392),I=n(393),S="channels";!function(e){e[e.createChannel="".concat(S,"/createChannel")]="createChannel",e[e.createChannelSuccess="".concat(S,"/createChannelSuccess")]="createChannelSuccess",e[e.createChannelsError="".concat(S,"/createChannelsError")]="createChannelsError",e[e.fetchChannelsSuccess="".concat(S,"/fetchChannelsSuccess")]="fetchChannelsSuccess",e[e.fetchChannelsError="".concat(S,"/fetchChannelsError")]="fetchChannelsError",e[e.uploadImageFinished="".concat(S,"/uploadImageFinished")]="uploadImageFinished",e[e.setChannelId="".concat(S,"/setChannelId")]="setChannelId"}(m||(m={}));var w,E=function(e){return{type:m.createChannelsError,payload:e}},F=n(52),H=n.n(F),L=n(80),D=n.n(L),R=n(29),T=n.n(R),A=n(177),B=n.n(A),z=n(81),U=n.n(z),W=n(31),V=T()(S),G=Object(W.a)(V,T()("isPending")),J=Object(W.a)(V,H()(U.a,T()("channels"))),Y=Object(W.a)(V,H()(T()("channelId"),B.a,T()("channels"))),K=function(e){return Object(W.a)(V,T()(e))},Q=(n(333),function(e){var t=e.closeModal,n=e.openNotifiaction,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),f=u[0],j=u[1],h=Object(r.useState)(!1),O=Object(d.a)(h,2),p=O[0],v=O[1],g=Object(l.c)(G),x=Object(l.b)();return Object(r.useEffect)((function(){!g&&p&&(t(),n())}),[g,p]),Object(b.jsxs)("form",{className:"NavMenuCreateChannelForm",onSubmit:function(e){var t;e.preventDefault(),s&&f&&(x((t={name:s,shortcut:f.toUpperCase()},{type:m.createChannel,payload:t})),v(!0))},children:[Object(b.jsx)("h2",{children:"Create channel:"}),Object(b.jsx)(y.a,{className:"NavMenuCreateChannelForm__input",onChange:function(e){return i(e.target.value)},label:"Channel name:",value:s}),Object(b.jsx)(y.a,{className:"NavMenuCreateChannelForm__input",onChange:function(e){return j(e.target.value)},label:"Shortcut channel name eg. (ME):",inputProps:{maxLength:2},value:f}),Object(b.jsxs)(M.a,{className:"ProfileForm__submit-button",color:"primary",disabled:g,size:"large",type:"submit",variant:"contained",children:["Create Channel",g&&Object(b.jsx)(I.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})}),X=n.p+"static/media/plus-white-icon.f41cd2c2.svg",q=(n(335),function(e){var t=e.closeNavMenu,n=Object(r.useState)(!1),c=Object(d.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!1),o=Object(d.a)(i,2),u=o[0],f=o[1],j=Object(l.b)(),h=Object(l.c)(K("channels")),O=function(e){return Object(b.jsx)(C.a,Object(x.a)({elevation:6,variant:"filled"},e))},p=function(e){var n;t(),j((n=e,{type:m.setChannelId,payload:n}))};return Object(b.jsxs)("div",{className:"NavMenuChannels",children:[Object(b.jsxs)("div",{className:"NavMenuChannels__nav",children:[Object(b.jsx)("p",{className:"NavMenuChannels__title",children:"Channels"}),Object(b.jsx)("img",{alt:"plus-white-icon",className:"NavMenuChannels__button",onClick:function(){return f(!0)},src:X})]}),Object(b.jsx)("div",{className:"NavMenuChannels__channels",children:h.map((function(e){var t=e.channelId,n=e.name;return Object(b.jsxs)("p",{className:"NavMenuChannels__channel-name",onClick:function(){return p(t)},children:["#",n]},t)}))}),Object(b.jsx)(P.a,{className:"NavMenuChannels__modal",closeAfterTransition:!0,open:u,onClose:function(){return f(!1)},BackdropComponent:_.a,BackdropProps:{timeout:500},children:Object(b.jsx)(N.a,{in:u,children:Object(b.jsx)("div",{className:"NavMenuChannels__card",children:Object(b.jsx)(Q,{closeModal:function(){return f(!1)},openNotifiaction:function(){return s(!0)}})})})}),Object(b.jsx)(k.a,{open:a,className:"NavMenuChannels__snackbar",autoHideDuration:5e3,onClose:function(){return s(!1)},children:Object(b.jsx)(O,{onClose:function(){return s(!1)},severity:"success",children:"Channel has been added!"})})]})}),Z=n.p+"static/media/offline-icon.328c273c.svg",$=n.p+"static/media/online-icon.cd9ad327.svg",ee="profiles";!function(e){e[e.createProfile="".concat(ee,"/createProfile")]="createProfile",e[e.createProfileSuccess="".concat(ee,"/createProfileSuccess")]="createProfileSuccess",e[e.createProfileError="".concat(ee,"/createProfileError")]="createProfileError",e[e.fetchProfilesSuccess="".concat(ee,"/fetchProfilesSuccess")]="fetchProfilesSuccess",e[e.fetchProfilesError="".concat(ee,"/fetchProfilesError")]="fetchProfilesError",e[e.uploadImageFinished="".concat(ee,"/uploadImageFinished")]="uploadImageFinished",e[e.setProfileId="".concat(ee,"/setProfileId")]="setProfileId"}(w||(w={}));var te,ne=T()(ee),ce=Object(W.a)(ne,T()("isPending")),ae=Object(W.a)(ne,H()(U.a,T()("data"))),re=function(e){return Object(W.a)(ne,T()(e))},se=(n(336),function(){var e=Object(l.c)(re("data")),t=Object(l.c)(re("seletedProfileId"));return Object(b.jsxs)("div",{className:"NavMenuProfiles",children:[Object(b.jsx)("div",{className:"NavMenuProfiles__header",children:Object(b.jsx)("p",{className:"NavMenuProfiles__title",children:"Brothers-in-law"})}),Object(b.jsx)("div",{className:"NavMenuProfiles__profiles",children:e.filter((function(e){return e.profileId!==t})).map((function(e){var t=e.name,n=e.online,c=e.profileId,a=e.src;return Object(b.jsxs)("div",{className:"NavMenuProfiles__profile",children:[Object(b.jsx)("img",{alt:c,className:"NavMenuProfiles__avatar",src:a}),Object(b.jsx)("img",{alt:"status-icon",className:"NavMenuProfiles__status",src:n?$:Z}),Object(b.jsx)("p",{className:"NavMenuProfiles__name",children:t},c)]},c)}))})]})}),ie=n.p+"static/media/close-white-icon.c6df9cb2.svg",oe=(n(337),function(e){var t=e.visible,n=e.setVisible,c=function(){return n(!1)},a=Object(l.c)(re("seletedProfileId")),r=Object(l.c)(function(e){return Object(W.a)(ne,H()(D()((function(t){return t.profileId===e})),T()("data")))}(a)),s=r.name,i=r.src;return Object(b.jsxs)("div",{className:"NavMenu ".concat(t&&"NavMenu--visible"),onClick:c,children:[Object(b.jsx)("div",{className:"NavMenu__background ".concat(t&&"NavMenu__background--visible")}),Object(b.jsxs)("div",{className:"NavMenu__container ".concat(t&&"NavMenu__container--visible"),onClick:function(e){return e.stopPropagation()},children:[Object(b.jsxs)("div",{className:"NavMenu__header",children:[Object(b.jsxs)("div",{className:"NavMenu__profile-data",children:[Object(b.jsx)("img",{alt:"profile-avatar",className:"NavMenu__profile-avatar",src:i}),Object(b.jsx)("p",{className:"NavMenu__profile-name",children:s})]}),Object(b.jsx)("img",{alt:"close-white-icon",className:"NavMenu__button-close",onClick:c,src:ie})]}),Object(b.jsxs)("div",{className:"NavMenu__content",children:[Object(b.jsx)(q,{closeNavMenu:c}),Object(b.jsx)(se,{})]})]})]})}),le=n(182),ue=n(400),fe=n.p+"static/media/close-icon.51d90ac8.svg",de=n.p+"static/media/gear-icon.7598d1ce.svg",je=n.p+"static/media/modify-size-icon.54599b76.svg",be=(n(338),function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useContext)(p).setMargin,s=function(){c(null)};return Object(b.jsxs)("div",{className:"PageHeaderSettingsMenu",children:[Object(b.jsx)("img",{alt:"gear-icon",onClick:function(e){c(e.currentTarget)},src:de}),Object(b.jsxs)(le.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:s,children:[Object(b.jsxs)(ue.a,{className:"PageHeaderSettingsMenu__item",onClick:function(){return a(1)},children:["Up",Object(b.jsx)("img",{alt:"gear-icon",src:je})]}),Object(b.jsxs)(ue.a,{className:"PageHeaderSettingsMenu__item",onClick:function(){return a(-1)},children:["Down",Object(b.jsx)("img",{alt:"reverted-gear-icon",className:"PageHeaderSettingsMenu__icon-rotate",src:je})]}),Object(b.jsxs)(ue.a,{className:"PageHeaderSettingsMenu__item",onClick:s,children:["Close",Object(b.jsx)("img",{alt:"close-icon",src:fe})]})]})]})}),he=n.p+"static/media/hamburger-menu.4f615ee5.svg",Oe=(n(339),function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(l.c)(Y),s=Object(l.c)(K("selectedChannelId"))||a,i=Object(l.c)(function(e){return Object(W.a)(V,H()(D()((function(t){return t.channelId===e})),T()("channels")))}(s)),o=i.name,u=i.shortcut;return Object(b.jsxs)("header",{className:"PageHeader",children:[Object(b.jsxs)("div",{className:"PageHeader__left-column",children:[Object(b.jsx)("div",{className:"PageHeader__channel-picker",children:u}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"PageHeader__title",children:["#",o]}),Object(b.jsx)("p",{className:"PageHeader__users",children:"2 Brothers online"})]})]}),Object(b.jsxs)("div",{className:"PageHeader__right-column",children:[Object(b.jsx)(be,{}),Object(b.jsx)("img",{alt:"hamburger-menu",className:"PageHeader__hamburger-menu",onClick:function(){return c(!0)},src:he})]}),Object(b.jsx)(oe,{visible:n,setVisible:c})]})}),me=n.p+"static/media/back.3f83d067.svg",pe=n.p+"static/media/button-picture.7e1048a6.svg",ve=n.p+"static/media/empty-image.16de0a9b.svg",ge=function(e,t){var n=new FileReader,c=e.target.files;n.onload=function(e){t({file:c[0],src:e.target.result})},n.readAsDataURL(c[0])},xe=(n(340),function(e){var t=e.clickHandler,n=e.name,c=void 0===n?"":n,a=e.imageData,s=void 0===a?null:a,i=e.submitHandler,o=e.title,u=Object(l.c)(ce),f=Object(r.useRef)(null),j=Object(r.useState)(s),h=Object(d.a)(j,2),O=h[0],m=h[1],p=Object(r.useState)(c),v=Object(d.a)(p,2),g=v[0],x=v[1];return Object(b.jsxs)("div",{className:"ProfileForm__form-wrapper",children:[Object(b.jsxs)("h2",{className:"ProfileForm__title",children:[Object(b.jsx)("img",{alt:"back-icon",className:"ProfileForm__icon",onClick:t,src:me}),o]}),Object(b.jsxs)("form",{className:"ProfileForm",onSubmit:function(e){e.preventDefault(),O&&g&&i({backToProfileList:t,imageData:O,name:g})},children:[Object(b.jsxs)("div",{className:"ProfileForm__avatar ".concat(O?"ProfileForm__avatar--selected":""),children:[O?Object(b.jsx)("img",{alt:"avatar",className:"ProfileForm__image",src:O.src}):Object(b.jsx)("img",{alt:"empty",className:"ProfileForm__empty-picture",src:ve}),Object(b.jsx)("img",{alt:"button-icon",className:"ProfileForm__button-picture",onClick:function(){return f.current.click()},src:pe}),Object(b.jsx)("input",{className:"ProfileForm__input-file",onChange:function(e){return ge(e,m)},ref:f,type:"file"})]}),Object(b.jsx)(y.a,{className:"ProfileForm__input-name",onChange:function(e){return x(e.target.value)},label:"Profile name:",value:g}),Object(b.jsxs)(M.a,{className:"ProfileForm__submit-button",color:"primary",disabled:u,size:"large",type:"submit",variant:"contained",children:["Create Profile",u&&Object(b.jsx)(I.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})]})}),Pe=function(e){return{type:w.createProfileError,payload:e}},_e=function(e){return{type:w.uploadImageFinished,payload:e}},Ne=function(e){var t=Object.assign({},e),n=Object(l.b)();return Object(b.jsx)(xe,Object(x.a)({submitHandler:function(e){return n((t=e,{type:w.createProfile,payload:t}));var t},title:"Create Profile:"},t))},Ce=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=n.shouldPreventDefault,a=void 0===c||c,s=n.delay,i=void 0===s?1e3:s,o=Object(r.useState)(!1),l=Object(d.a)(o,2),u=l[0],f=l[1],j=Object(r.useRef)(),b=Object(r.useRef)(),h=Object(r.useCallback)((function(t){a&&t.target&&(t.target.addEventListener("touchend",Ce,{passive:!1}),b.current=t.target),j.current=setTimeout((function(){e(t),f(!0)}),i)}),[e,i,a]),O=Object(r.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];j.current&&clearTimeout(j.current),n&&!u&&t(),f(!1),a&&b.current&&b.current.removeEventListener("touchend",Ce)}),[a,t,u]);return{onMouseDown:function(e){return h(e)},onTouchStart:function(e){return h(e)},onMouseUp:function(e){return O(e)},onMouseLeave:function(e){return O(e,!1)},onTouchEnd:function(e){return O(e)}}},ye=n.p+"static/media/plus.553def23.svg",Me=(n(341),function(e){var t=e.clickHandler,n=e.mode,c=void 0===n?"add":n,a=e.name,s=e.src,i=Object(r.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],f="select"===c&&l,j=ke((function(){u(!0)}),(function(){t()}));return Object(b.jsxs)("section",{className:"ProfilePicker ".concat(f?"ProfilePicker--blur":""),children:[Object(b.jsxs)("div",Object(x.a)(Object(x.a)({className:"ProfilePicker__card ProfilePicker--".concat(c,"__card ").concat(f?"ProfilePicker__card--blur":"")},j),{},{children:[Object(b.jsx)("p",{className:"ProfilePicker__title ProfilePicker--".concat(c,"__title"),children:a||"Create:"}),Object(b.jsx)("div",{className:"ProfilePicker__button ProfilePicker--".concat(c,"__button"),children:Object(b.jsx)("img",{alt:a?"".concat(a,"-avatar"):"icon",className:"ProfilePicker__image ProfilePicker--".concat(c,"__image"),src:s||ye})})]})),f&&Object(b.jsx)("div",{className:"ProfilePicker__overlay"})]})});!function(e){e.createProfile="createProfile",e.listProfiles="listProfiles"}(te||(te={}));n(342);var Ie,Se=function(e){var t=e.clickHandler,n=Object(l.b)(),c=Object(l.c)(re("data"));return Object(b.jsxs)("section",{className:"ProfilePickerList",children:[Object(b.jsx)("h1",{className:"ProfilePickerList__title",children:"Choose a brother-in-law:"}),Object(b.jsx)("p",{className:"ProfilePickerList__description",children:"Select a profile to start a conversation with your brother-in-law."}),Object(b.jsxs)("div",{className:"ProfilePickerList__pickers",children:[Object(b.jsx)(Me,{clickHandler:function(){return t(te.createProfile)}}),c.map((function(e){var t=e.name,c=e.profileId,a=e.src;return Object(b.jsx)(Me,{clickHandler:function(){return n((e=c,{type:w.setProfileId,payload:e}));var e},mode:"select",name:t,src:a},c)}))]})]})},we=(n(343),function(){var e=Object(r.useState)(te.listProfiles),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(b.jsx)("section",{className:"ProfilePickerSection",children:n===te.listProfiles?Object(b.jsx)(Se,{clickHandler:function(e){return c(e)}}):Object(b.jsx)(Ne,{clickHandler:function(){return c(te.listProfiles)}})})}),Ee=n.p+"static/media/gentleman.154e51ca.svg",Fe=(n(344),function(e){e.appDataLoaded;return Object(b.jsxs)("div",{className:"PageLoader",children:[Object(b.jsx)("h2",{className:"PageLoader__title",children:"WELCOME GENTLEMAN"}),Object(b.jsx)("img",{alt:"gentleman-logo",src:Ee}),Object(b.jsx)("div",{className:"PageLoader__spinner",children:Array.from(Array(12)).map((function(e,t){return Object(b.jsx)("div",{className:"PageLoader__circle PageLoader__circle--".concat(t+1)},t)}))})]})}),He="auth";!function(e){e[e.login="".concat(He,"/login")]="login",e[e.loginSuccess="".concat(He,"/loginSuccess")]="loginSuccess",e[e.loginError="".concat(He,"/loginError")]="loginError"}(Ie||(Ie={}));var Le,De=T()(He),Re=Object(W.a)(De,T()("error")),Te=Object(W.a)(De,T()("isPending")),Ae=Object(W.a)(Te,Re,(function(e,t){return!e&&!t})),Be=Object(W.a)(ae,J,(function(e,t){return e&&t})),ze=(n(345),function(){var e=Object(l.c)(re("seletedProfileId")),t=Object(l.c)(Be);return t?e?Object(b.jsxs)("div",{className:"Page",children:[Object(b.jsx)(Oe,{}),Object(b.jsx)(g,{})]}):Object(b.jsx)(we,{}):Object(b.jsx)(Fe,{appDataLoaded:t})}),Ue=function(){Object(l.c)(Te),Object(l.b)(),Object(l.c)(Re);var e=Object(r.useMemo)((function(){return Object(u.a)({palette:{type:"dark"}})}),[]);return Object(b.jsx)(f.a,{theme:e,children:Object(b.jsx)(v,{children:Object(b.jsx)(ze,{})})})},We=n(37),Ve={apiKey:"AIzaSyBYQ05TbRrP2wVEX7NDn5CWodoAnnkpcOY",authDomain:"comics-book.firebaseapp.com",projectId:"comics-book",storageBucket:"comics-book.appspot.com",messagingSenderId:"426496482303",appId:"1:426496482303:web:ebf257ff0a64a90f6ae5ca"};!function(e){e.profiles="profiles",e.channels="channels"}(Le||(Le={}));var Ge=function(e){console.error(e)},Je=function(e){for(var t=Object.keys(e),n=[],c=0;c<t.length;c++)n.push(e[t[c]]);return n},Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.val();t(Je(n||{}))},Ke=function(e,t,n){e.database().ref(n).on("value",(function(e){return Ye(e,t)}),Ge)},Qe=function(){var e=Object(l.c)(Ae),t=Object(l.b)();return Object(r.useEffect)((function(){We.a.initializeApp(Ve)}),[]),Object(r.useEffect)((function(){var n=function(e){t(function(e){return{type:w.fetchProfilesSuccess,payload:e}}(e))},c=function(e){t(function(e){return{type:m.fetchChannelsSuccess,payload:e}}(e))};e||setTimeout((function(){Ke(We.a,n,Le.profiles),Ke(We.a,c,Le.channels)}),1)}),[e]),null},Xe=n(42),qe=n(178),Ze=n(91),$e=n(179),et={error:"",isPending:!0,profileId:""},tt=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{isPending:!1,profileId:n})},nt=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{error:n,isPending:!1})},ct={channels:null,error:"",isPending:!0,selectedChannelId:""},at=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!0})},rt=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!1})},st=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{error:n,isPending:!1})},it=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{isPending:!1,channels:n})},ot=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!1})},lt=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{selectedChannelId:n})},ut={data:null,error:"",isPending:!0,seletedProfileId:""},ft=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!0})},dt=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!1})},jt=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{error:n,isPending:!1})},bt=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{isPending:!1,data:n})},ht=function(e){return Object(x.a)(Object(x.a)({},e),{},{isPending:!1})},Ot=function(e,t){var n=t.payload;return Object(x.a)(Object(x.a)({},e),{},{seletedProfileId:n})},mt={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie.loginSuccess:return tt(e,t);case Ie.loginError:return nt(e,t);default:return e}},channels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.createChannel:return at(e);case m.createChannelSuccess:return rt(e);case m.createChannelsError:return st(e,t);case m.fetchChannelsSuccess:return it(e,t);case m.fetchChannelsError:return ot(e);case m.setChannelId:return lt(e,t);default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.createProfile:return ft(e);case w.createProfileSuccess:return dt(e);case w.createProfileError:return jt(e,t);case w.fetchProfilesSuccess:return bt(e,t);case w.fetchProfilesError:return ht(e);case w.setProfileId:return Ot(e,t);default:return e}}},pt=function(){return Object(Xe.combineReducers)(Object(x.a)({},mt))},vt=n(180),gt=n(24),xt=n.n(gt),Pt=n(18),_t=function(e){return{type:Ie.loginError,payload:e}},Nt=xt.a.mark(Ct);function Ct(e){var t,n,a;return xt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,n=localStorage.getItem(c.profileId)||"",r.prev=2,r.next=5,We.a.auth().signInWithEmailAndPassword("eryk.sandecki@gmail.com",t);case 5:return r.next=7,Object(Pt.c)((s=n,{type:Ie.loginSuccess,payload:s}));case 7:r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(2),a=r.t0.code,r.next=14,Object(Pt.c)(_t(a));case 14:case"end":return r.stop()}var s}),Nt,null,[[2,9]])}var kt=xt.a.mark(yt);function yt(){return xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pt.a)([Object(Pt.f)(Ie.login,Ct)]);case 2:case"end":return e.stop()}}),kt)}var Mt=n(90),It=function(e,t){var n=[],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";do{n.splice(0,n.length);for(var a=0;a<9;a++)n.push(c.charAt(Math.floor(Math.random()*c.length)))}while(e.find((function(e){return e[t]===n.join("")})));return n.join("")},St=function(e){for(var t=We.a.database().ref(e[0]),n=1;n<e.length;n++)t=t.child(e[n]);return t},wt=xt.a.mark(Et);function Et(e){var t,n,c,a,r;return xt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.name,c=t.shortcut,s.next=4,Object(Pt.d)(K("channels"));case 4:return a=s.sent,r=It(a,"channelId"),s.prev=6,s.next=9,Object(Pt.b)(1e3);case 9:return s.next=11,St([Le.channels]).set([].concat(Object(Mt.a)(a),[{channelId:r,name:n,shortcut:c}]));case 11:return s.next=13,Object(Pt.c)({type:m.createChannelSuccess});case 13:s.next=19;break;case 15:return s.prev=15,s.t0=s.catch(6),s.next=19,Object(Pt.c)(E(s.t0));case 19:case"end":return s.stop()}}),wt,null,[[6,15]])}var Ft=xt.a.mark(Ht);function Ht(){return xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pt.a)([Object(Pt.f)(m.createChannel,Et)]);case 2:case"end":return e.stop()}}),Ft)}var Lt=xt.a.mark(Dt);function Dt(e){var t,n,c,a,r,s,i;return xt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.action,c=t.file,a=t.path,o.prev=2,r=We.a.storage().ref(a).put(c),s=Object(Ze.b)((function(e){return r.on("state_changed",e)})),i="",o.next=8,Object(Pt.f)(s,(function(){}));case 8:return o.next=10,r;case 10:return o.next=12,r.snapshot.ref.getDownloadURL().then((function(e){return i=e}));case 12:return o.next=14,Object(Pt.c)(n({result:"success",src:i}));case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(2),o.next=20,Object(Pt.c)(n({error:o.t0,result:"error"}));case 20:case"end":return o.stop()}}),Lt,null,[[2,16]])}var Rt;!function(e){e[e.uploadFile="".concat("common","/uploadFile")]="uploadFile"}(Rt||(Rt={}));var Tt=xt.a.mark(At);function At(){return xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pt.a)([Object(Pt.f)(Rt.uploadFile,Dt)]);case 2:case"end":return e.stop()}}),Tt)}var Bt=function(e){var t=e.error,n=e.result,c=e.src;if("error"===n)throw t;return c},zt=function(e){return{type:Rt.uploadFile,payload:e}},Ut=xt.a.mark(Wt);function Wt(e){var t,n,c,r,s,i,o,l,u,f;return xt.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=t.backToProfileList,c=t.name,r=t.imageData.file,s="".concat(a.profiles,"/").concat(c),d.next=5,Object(Pt.d)(re("data"));case 5:return i=d.sent,o=It(i,"profileId"),d.prev=7,d.next=10,Object(Pt.c)(zt({action:_e,path:s,file:r}));case 10:return d.next=12,Object(Pt.e)(w.uploadImageFinished);case 12:return l=d.sent,u=l.payload,f=Bt(u),d.next=17,St([Le.profiles]).set([].concat(Object(Mt.a)(i),[{name:c,online:!1,profileId:o,src:f}]));case 17:return d.next=19,Object(Pt.c)({type:w.createProfileSuccess});case 19:return d.next=21,n();case 21:d.next=27;break;case 23:return d.prev=23,d.t0=d.catch(7),d.next=27,Object(Pt.c)(Pe(d.t0));case 27:case"end":return d.stop()}}),Ut,null,[[7,23]])}var Vt=xt.a.mark(Gt);function Gt(){return xt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pt.a)([Object(Pt.f)(w.createProfile,Wt)]);case 2:case"end":return e.stop()}}),Vt)}var Jt=[yt,Ht,At,Gt],Yt=function(e){var t,n=Object(vt.a)(Jt);try{for(n.s();!(t=n.n()).done;){var c=t.value;e.run(c)}}catch(a){n.e(a)}finally{n.f()}},Kt=Object(Ze.a)(),Qt=function(){var e=Object(Xe.createStore)(pt(),{},Object(qe.composeWithDevTools)(Xe.applyMiddleware.apply(void 0,[$e.a].concat([Kt]))));return Yt(Kt),e};n(352);o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsxs)(l.a,{store:Qt(),children:[Object(b.jsx)(Qe,{}),Object(b.jsx)(Ue,{})]})}),document.getElementById("root"))}},[[353,1,2]]]);
//# sourceMappingURL=main.7003d2e2.chunk.js.map