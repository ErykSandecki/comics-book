(this["webpackJsonpcomics-book"]=this["webpackJsonpcomics-book"]||[]).push([[0],{205:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},338:function(e,t,n){},340:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){"use strict";n.r(t);var c,r,a=n(0),s=n.n(a),i=n(19),o=n.n(i),l=n(15),u=n(181),f=n(395),d=n(24),j=n.p+"static/media/send-icon.d7969ca4.svg",b=(n(205),n(4)),h=Object(a.forwardRef)((function(e,t){var n=e.inputHandler,c=Object(a.useState)(!0),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(b.jsxs)("div",{className:"ChatInput",ref:t,children:[Object(b.jsx)("p",{className:"ChatInput__text-field",contentEditable:!0,onBlur:function(e){0===e.target.innerText.trim().length&&i(!0)},onFocus:function(){return i(!1)},onInput:n,suppressContentEditableWarning:!0}),s&&Object(b.jsx)("span",{className:"ChatInput__placeholder",children:"Message #Meetings:"}),Object(b.jsx)("img",{alt:"send-icon",className:"ChatInput__send-icon",src:j})]})})),O=(n(207),Object(a.forwardRef)((function(e,t){return Object(b.jsx)("div",{className:"ChatMessages",ref:t})})));!function(e){e.indexProfile="indexProfile",e.marginOffset="MARGIN_OFFSET"}(c||(c={})),function(e){e.profiles="PROFILES"}(r||(r={}));var p,m=Object(a.createContext)({margin:0,setMargin:function(){}}),v=function(e){var t=e.children,n=Object(a.useState)(parseInt(localStorage.getItem(c.marginOffset)||0)),r=Object(d.a)(n,2),s=r[0],i=r[1];return Object(b.jsx)(m.Provider,{value:{margin:s,setMargin:function(e){var t=s+e;(s>0||-1!==e)&&(i(t),localStorage.setItem(c.marginOffset,t))}},children:t})},g=(n(208),function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useContext)(m).margin;return Object(b.jsxs)("section",{className:"Chat",style:{height:"calc(100vh - ".concat(80+n,"px)")},children:[Object(b.jsx)(O,{ref:e}),Object(b.jsx)(h,{inputHandler:function(){var n=t.current.clientHeight;e.current.style.height="calc(100% - ".concat(n,"px)")},ref:t})]})});!function(e){e.profiles="profiles",e.channels="channels"}(p||(p={}));var x,P=n(37),_=function(e){for(var t=P.a.database().ref(e[0]),n=1;n<e.length;n++)t=t.child(e[n]);return t},N=function(){return{disconnectProfile:function(){var e=localStorage.getItem(c.indexProfile)||-1;return _([p.profiles,e,"online"]).onDisconnect().set(!1)}}},C=function(){var e=N().disconnectProfile;return Object(a.useEffect)((function(){e()}),[]),null},k=n(13),y=n(398),S=n(394),M=n(354),I=n(397),E=n(399),w=n(396),F=n(392),H=n(393),L="channels";!function(e){e[e.createChannel="".concat(L,"/createChannel")]="createChannel",e[e.createChannelSuccess="".concat(L,"/createChannelSuccess")]="createChannelSuccess",e[e.createChannelsError="".concat(L,"/createChannelsError")]="createChannelsError",e[e.fetchChannelsSuccess="".concat(L,"/fetchChannelsSuccess")]="fetchChannelsSuccess",e[e.fetchChannelsError="".concat(L,"/fetchChannelsError")]="fetchChannelsError",e[e.uploadImageFinished="".concat(L,"/uploadImageFinished")]="uploadImageFinished",e[e.setChannelId="".concat(L,"/setChannelId")]="setChannelId"}(x||(x={}));var D,R=function(e){return{type:x.createChannelsError,payload:e}},T=n(52),A=n.n(T),B=n(80),z=n.n(B),U=n(28),W=n.n(U),V=n(177),G=n.n(V),J=n(81),Y=n.n(J),K=n(29),Q=W()(L),X=Object(K.a)(Q,W()("isPending")),q=Object(K.a)(Q,A()(Y.a,W()("channels"))),Z=Object(K.a)(Q,A()(W()("channelId"),G.a,W()("channels"))),$=function(e){return Object(K.a)(Q,W()(e))},ee=(n(338),function(e){var t=e.closeModal,n=e.openNotifiaction,c=Object(a.useState)(""),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),f=u[0],j=u[1],h=Object(a.useState)(!1),O=Object(d.a)(h,2),p=O[0],m=O[1],v=Object(l.c)(X),g=Object(l.b)();return Object(a.useEffect)((function(){!v&&p&&(t(),n())}),[v,p]),Object(b.jsxs)("form",{className:"NavMenuCreateChannelForm",onSubmit:function(e){var t;e.preventDefault(),s&&f&&(g((t={name:s,shortcut:f.toUpperCase()},{type:x.createChannel,payload:t})),m(!0))},children:[Object(b.jsx)("h2",{children:"Create channel:"}),Object(b.jsx)(w.a,{className:"NavMenuCreateChannelForm__input",onChange:function(e){return i(e.target.value)},label:"Channel name:",value:s}),Object(b.jsx)(w.a,{className:"NavMenuCreateChannelForm__input",onChange:function(e){return j(e.target.value)},label:"Shortcut channel name eg. (ME):",inputProps:{maxLength:2},value:f}),Object(b.jsxs)(F.a,{className:"ProfileForm__submit-button",color:"primary",disabled:v,size:"large",type:"submit",variant:"contained",children:["Create Channel",v&&Object(b.jsx)(H.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})}),te=n.p+"static/media/plus-white-icon.f41cd2c2.svg",ne=(n(340),function(e){var t=e.closeNavMenu,n=Object(a.useState)(!1),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(d.a)(i,2),u=o[0],f=o[1],j=Object(l.b)(),h=Object(l.c)($("channels")),O=function(e){return Object(b.jsx)(I.a,Object(k.a)({elevation:6,variant:"filled"},e))},p=function(e){var n;t(),j((n=e,{type:x.setChannelId,payload:n}))};return Object(b.jsxs)("div",{className:"NavMenuChannels",children:[Object(b.jsxs)("div",{className:"NavMenuChannels__nav",children:[Object(b.jsx)("p",{className:"NavMenuChannels__title",children:"Channels"}),Object(b.jsx)("img",{alt:"plus-white-icon",className:"NavMenuChannels__button",onClick:function(){return f(!0)},src:te})]}),Object(b.jsx)("div",{className:"NavMenuChannels__channels",children:h.map((function(e){var t=e.channelId,n=e.name;return Object(b.jsxs)("p",{className:"NavMenuChannels__channel-name",onClick:function(){return p(t)},children:["#",n]},t)}))}),Object(b.jsx)(y.a,{className:"NavMenuChannels__modal",closeAfterTransition:!0,open:u,onClose:function(){return f(!1)},BackdropComponent:S.a,BackdropProps:{timeout:500},children:Object(b.jsx)(M.a,{in:u,children:Object(b.jsx)("div",{className:"NavMenuChannels__card",children:Object(b.jsx)(ee,{closeModal:function(){return f(!1)},openNotifiaction:function(){return s(!0)}})})})}),Object(b.jsx)(E.a,{open:r,className:"NavMenuChannels__snackbar",autoHideDuration:5e3,onClose:function(){return s(!1)},children:Object(b.jsx)(O,{onClose:function(){return s(!1)},severity:"success",children:"Channel has been added!"})})]})}),ce=n.p+"static/media/offline-icon.e258b94e.svg",re=n.p+"static/media/online-icon.f3194dda.svg",ae="profiles";!function(e){e[e.createProfile="".concat(ae,"/createProfile")]="createProfile",e[e.createProfileSuccess="".concat(ae,"/createProfileSuccess")]="createProfileSuccess",e[e.createProfileError="".concat(ae,"/createProfileError")]="createProfileError",e[e.fetchProfilesSuccess="".concat(ae,"/fetchProfilesSuccess")]="fetchProfilesSuccess",e[e.fetchProfilesError="".concat(ae,"/fetchProfilesError")]="fetchProfilesError",e[e.uploadImageFinished="".concat(ae,"/uploadImageFinished")]="uploadImageFinished",e[e.selectProfile="".concat(ae,"/selectProfile")]="selectProfile",e[e.selectProfileError="".concat(ae,"/selectProfileError")]="selectProfileError",e[e.setStatusProfile="".concat(ae,"/setStatusProfile")]="setStatusProfile",e[e.setStatusProfileError="".concat(ae,"/setStatusProfileError")]="setStatusProfileError"}(D||(D={}));var se,ie=W()(ae),oe=Object(K.a)(ie,W()("isPending")),le=Object(K.a)(ie,A()(Y.a,W()("data"))),ue=function(e){return Object(K.a)(ie,W()(e))},fe=function(e){return Object(K.a)(ie,A()(z()((function(t){return t.profileId===e})),W()("data")))},de=(n(341),function(){var e=Object(l.c)(ue("data")),t=Object(l.c)(ue("seletedProfileId"));return Object(b.jsxs)("div",{className:"NavMenuProfiles",children:[Object(b.jsx)("div",{className:"NavMenuProfiles__header",children:Object(b.jsx)("p",{className:"NavMenuProfiles__title",children:"Brothers-in-law"})}),Object(b.jsx)("div",{className:"NavMenuProfiles__profiles",children:e.filter((function(e){return e.profileId!==t})).map((function(e){var t=e.name,n=e.online,c=e.profileId,r=e.src;return Object(b.jsxs)("div",{className:"NavMenuProfiles__profile",children:[Object(b.jsx)("img",{alt:c,className:"NavMenuProfiles__avatar",src:r}),Object(b.jsx)("img",{alt:"status-icon",className:"NavMenuProfiles__status",src:n?re:ce}),Object(b.jsx)("p",{className:"NavMenuProfiles__name",children:t},c)]},c)}))})]})}),je=n.p+"static/media/close-white-icon.c6df9cb2.svg",be=(n(342),function(e){var t=e.visible,n=e.setVisible,c=function(){return n(!1)},r=Object(l.c)(ue("seletedProfileId")),a=Object(l.c)(fe(r)),s=a.name,i=a.src;return Object(b.jsxs)("div",{className:"NavMenu ".concat(t&&"NavMenu--visible"),onClick:c,children:[Object(b.jsx)("div",{className:"NavMenu__background ".concat(t&&"NavMenu__background--visible")}),Object(b.jsxs)("div",{className:"NavMenu__container ".concat(t&&"NavMenu__container--visible"),onClick:function(e){return e.stopPropagation()},children:[Object(b.jsxs)("div",{className:"NavMenu__header",children:[Object(b.jsxs)("div",{className:"NavMenu__profile-data",children:[Object(b.jsx)("img",{alt:"profile-avatar",className:"NavMenu__profile-avatar",src:i}),Object(b.jsx)("p",{className:"NavMenu__profile-name",children:s})]}),Object(b.jsx)("img",{alt:"close-white-icon",className:"NavMenu__button-close",onClick:c,src:je})]}),Object(b.jsxs)("div",{className:"NavMenu__content",children:[Object(b.jsx)(ne,{closeNavMenu:c}),Object(b.jsx)(de,{})]})]})]})}),he=n(182),Oe=n(400),pe=n.p+"static/media/close-icon.092c61d5.svg",me=n.p+"static/media/gear-icon.e5deb93c.svg",ve=n.p+"static/media/modify-size-icon.7b8f31f6.svg",ge=(n(343),function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(m).setMargin,s=function(){c(null)};return Object(b.jsxs)("div",{className:"PageHeaderSettingsMenu",children:[Object(b.jsx)("img",{alt:"gear-icon",onClick:function(e){c(e.currentTarget)},src:me}),Object(b.jsxs)(he.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:s,children:[Object(b.jsxs)(Oe.a,{className:"PageHeaderSettingsMenu__item",onClick:function(){return r(1)},children:["Up",Object(b.jsx)("img",{alt:"gear-icon",src:ve})]}),Object(b.jsxs)(Oe.a,{className:"PageHeaderSettingsMenu__item",onClick:function(){return r(-1)},children:["Down",Object(b.jsx)("img",{alt:"reverted-gear-icon",className:"PageHeaderSettingsMenu__icon-rotate",src:ve})]}),Object(b.jsxs)(Oe.a,{className:"PageHeaderSettingsMenu__item",onClick:s,children:["Close",Object(b.jsx)("img",{alt:"close-icon",src:pe})]})]})]})}),xe=n.p+"static/media/hamburger-menu.85ddbb0d.svg",Pe=(n(344),function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(l.c)(Z),s=Object(l.c)($("selectedChannelId"))||r,i=Object(l.c)(function(e){return Object(K.a)(Q,A()(z()((function(t){return t.channelId===e})),W()("channels")))}(s)),o=i.name,u=i.shortcut;return Object(b.jsxs)("header",{className:"PageHeader",children:[Object(b.jsxs)("div",{className:"PageHeader__left-column",children:[Object(b.jsx)("div",{className:"PageHeader__channel-picker",children:u}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"PageHeader__title",children:["#",o]}),Object(b.jsx)("p",{className:"PageHeader__users",children:"2 Brothers online"})]})]}),Object(b.jsxs)("div",{className:"PageHeader__right-column",children:[Object(b.jsx)(ge,{}),Object(b.jsx)("img",{alt:"hamburger-menu",className:"PageHeader__hamburger-menu",onClick:function(){return c(!0)},src:xe})]}),Object(b.jsx)(be,{visible:n,setVisible:c})]})}),_e=n.p+"static/media/back.d5208217.svg",Ne=n.p+"static/media/button-picture.9659aaae.svg",Ce=n.p+"static/media/empty-image.acb60281.svg",ke=function(e,t){var n=new FileReader,c=e.target.files;n.onload=function(e){t({file:c[0],src:e.target.result})},n.readAsDataURL(c[0])},ye=(n(345),function(e){var t=e.clickHandler,n=e.name,c=void 0===n?"":n,r=e.imageData,s=void 0===r?null:r,i=e.submitHandler,o=e.title,u=Object(l.c)(oe),f=Object(a.useRef)(null),j=Object(a.useState)(s),h=Object(d.a)(j,2),O=h[0],p=h[1],m=Object(a.useState)(c),v=Object(d.a)(m,2),g=v[0],x=v[1];return Object(b.jsxs)("div",{className:"ProfileForm__form-wrapper",children:[Object(b.jsxs)("h2",{className:"ProfileForm__title",children:[Object(b.jsx)("img",{alt:"back-icon",className:"ProfileForm__icon",onClick:t,src:_e}),o]}),Object(b.jsxs)("form",{className:"ProfileForm",onSubmit:function(e){e.preventDefault(),O&&g&&i({backToProfileList:t,imageData:O,name:g})},children:[Object(b.jsxs)("div",{className:"ProfileForm__avatar ".concat(O?"ProfileForm__avatar--selected":""),children:[O?Object(b.jsx)("img",{alt:"avatar",className:"ProfileForm__image",src:O.src}):Object(b.jsx)("img",{alt:"empty",className:"ProfileForm__empty-picture",src:Ce}),Object(b.jsx)("img",{alt:"button-icon",className:"ProfileForm__button-picture",onClick:function(){return f.current.click()},src:Ne}),Object(b.jsx)("input",{className:"ProfileForm__input-file",onChange:function(e){return ke(e,p)},ref:f,type:"file"})]}),Object(b.jsx)(w.a,{className:"ProfileForm__input-name",onChange:function(e){return x(e.target.value)},label:"Profile name:",value:g}),Object(b.jsxs)(F.a,{className:"ProfileForm__submit-button",color:"primary",disabled:u,size:"large",type:"submit",variant:"contained",children:["Create Profile",u&&Object(b.jsx)(H.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})]})}),Se=function(e){return{type:D.createProfileError,payload:e}},Me=function(e){return{type:D.uploadImageFinished,payload:e}},Ie=function(e){var t=Object.assign({},e),n=Object(l.b)();return Object(b.jsx)(ye,Object(k.a)({submitHandler:function(e){return n((t=e,{type:D.createProfile,payload:t}));var t},title:"Create Profile:"},t))},Ee=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},we=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=n.shouldPreventDefault,r=void 0===c||c,s=n.delay,i=void 0===s?1e3:s,o=Object(a.useState)(!1),l=Object(d.a)(o,2),u=l[0],f=l[1],j=Object(a.useRef)(),b=Object(a.useRef)(),h=Object(a.useCallback)((function(t){r&&t.target&&(t.target.addEventListener("touchend",Ee,{passive:!1}),b.current=t.target),j.current=setTimeout((function(){e(t),f(!0)}),i)}),[e,i,r]),O=Object(a.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];j.current&&clearTimeout(j.current),n&&!u&&t(),f(!1),r&&b.current&&b.current.removeEventListener("touchend",Ee)}),[r,t,u]);return{onMouseDown:function(e){return h(e)},onTouchStart:function(e){return h(e)},onMouseUp:function(e){return O(e)},onMouseLeave:function(e){return O(e,!1)},onTouchEnd:function(e){return O(e)}}},Fe=n.p+"static/media/plus.c453ef1e.svg",He=(n(346),function(e){var t=e.clickHandler,n=e.mode,c=void 0===n?"add":n,r=e.name,s=e.src,i=Object(a.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],f="select"===c&&l,j=we((function(){u(!0)}),(function(){t()}));return Object(b.jsxs)("section",{className:"ProfilePicker ".concat(f?"ProfilePicker--blur":""),children:[Object(b.jsxs)("div",Object(k.a)(Object(k.a)({className:"ProfilePicker__card ProfilePicker--".concat(c,"__card ").concat(f?"ProfilePicker__card--blur":"")},j),{},{children:[Object(b.jsx)("p",{className:"ProfilePicker__title ProfilePicker--".concat(c,"__title"),children:r||"Create:"}),Object(b.jsx)("div",{className:"ProfilePicker__button ProfilePicker--".concat(c,"__button"),children:Object(b.jsx)("img",{alt:r?"".concat(r,"-avatar"):"icon",className:"ProfilePicker__image ProfilePicker--".concat(c,"__image"),src:s||Fe})})]})),f&&Object(b.jsx)("div",{className:"ProfilePicker__overlay"})]})});!function(e){e.createProfile="createProfile",e.listProfiles="listProfiles"}(se||(se={}));n(347);var Le,De=function(e){var t=e.clickHandler,n=Object(l.b)(),c=Object(l.c)(ue("data"));return Object(b.jsxs)("section",{className:"ProfilePickerList",children:[Object(b.jsx)("h1",{className:"ProfilePickerList__title",children:"Choose a brother-in-law:"}),Object(b.jsx)("p",{className:"ProfilePickerList__description",children:"Select a profile to start a conversation with your brother-in-law."}),Object(b.jsxs)("div",{className:"ProfilePickerList__pickers",children:[Object(b.jsx)(He,{clickHandler:function(){return t(se.createProfile)}}),c.map((function(e){var t=e.name,c=e.profileId,r=e.src;return Object(b.jsx)(He,{clickHandler:function(){return n((e=c,{type:D.selectProfile,payload:e}));var e},mode:"select",name:t,src:r},c)}))]})]})},Re=(n(348),function(){var e=Object(a.useState)(se.listProfiles),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(b.jsx)("section",{className:"ProfilePickerSection",children:n===se.listProfiles?Object(b.jsx)(De,{clickHandler:function(e){return c(e)}}):Object(b.jsx)(Ie,{clickHandler:function(){return c(se.listProfiles)}})})}),Te=n.p+"static/media/gentleman.ff3326dc.svg",Ae=(n(349),function(e){e.appDataLoaded;return Object(b.jsxs)("div",{className:"PageLoader",children:[Object(b.jsx)("h2",{className:"PageLoader__title",children:"WELCOME GENTLEMAN"}),Object(b.jsx)("img",{alt:"gentleman-logo",src:Te}),Object(b.jsx)("div",{className:"PageLoader__spinner",children:Array.from(Array(12)).map((function(e,t){return Object(b.jsx)("div",{className:"PageLoader__circle PageLoader__circle--".concat(t+1)},t)}))})]})}),Be="auth";!function(e){e[e.login="".concat(Be,"/login")]="login",e[e.loginSuccess="".concat(Be,"/loginSuccess")]="loginSuccess",e[e.loginError="".concat(Be,"/loginError")]="loginError"}(Le||(Le={}));var ze=W()(Be),Ue=Object(K.a)(ze,W()("error")),We=Object(K.a)(ze,W()("isPending")),Ve=Object(K.a)(We,Ue,(function(e,t){return!e&&!t})),Ge=Object(K.a)(le,q,(function(e,t){return e&&t})),Je=(n(350),function(){var e=Object(l.c)(ue("seletedProfileId")),t=Object(l.c)(Ge);return t?e?Object(b.jsxs)("div",{className:"Page",children:[Object(b.jsx)(C,{}),Object(b.jsx)(Pe,{}),Object(b.jsx)(g,{})]}):Object(b.jsx)(Re,{}):Object(b.jsx)(Ae,{appDataLoaded:t})}),Ye=function(){Object(l.c)(We),Object(l.b)(),Object(l.c)(Ue);var e=Object(a.useMemo)((function(){return Object(u.a)({palette:{type:"dark"}})}),[]);return Object(b.jsx)(f.a,{theme:e,children:Object(b.jsx)(v,{children:Object(b.jsx)(Je,{})})})},Ke={apiKey:"AIzaSyBYQ05TbRrP2wVEX7NDn5CWodoAnnkpcOY",authDomain:"comics-book.firebaseapp.com",projectId:"comics-book",storageBucket:"comics-book.appspot.com",messagingSenderId:"426496482303",appId:"1:426496482303:web:ebf257ff0a64a90f6ae5ca"},Qe=function(e){console.error(e)},Xe=function(e){for(var t=Object.keys(e),n=[],c=0;c<t.length;c++)n.push(e[t[c]]);return n},qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.val();t(Xe(n||{}))},Ze=function(e,t,n){e.database().ref(n).on("value",(function(e){return qe(e,t)}),Qe)},$e=function(){var e=Object(l.c)(Ve),t=Object(l.b)();return Object(a.useEffect)((function(){P.a.initializeApp(Ke)}),[]),Object(a.useEffect)((function(){var n=function(e){t(function(e){return{type:D.fetchProfilesSuccess,payload:e}}(e))},c=function(e){t(function(e){return{type:x.fetchChannelsSuccess,payload:e}}(e))};e||setTimeout((function(){Ze(P.a,n,p.profiles),Ze(P.a,c,p.channels)}),1)}),[e]),null},et=n(42),tt=n(178),nt=n(91),ct=n(179),rt={error:"",isPending:!0},at=function(e){return Object(k.a)(Object(k.a)({},e),{},{isPending:!1})},st=function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{error:n,isPending:!1})},it={channels:null,error:"",isPending:!0,selectedChannelId:""},ot=function(e){return Object(k.a)(Object(k.a)({},e),{},{isPending:!0})},lt=function(e){return Object(k.a)(Object(k.a)({},e),{},{isPending:!1})},ut=function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{error:n,isPending:!1})},ft=function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{isPending:!1,channels:n})},dt=function(e){return Object(k.a)(Object(k.a)({},e),{},{isPending:!1})},jt=function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{selectedChannelId:n})},bt={data:null,error:"",isPending:!0,selectedProfileId:""},ht=function(e){return Object(k.a)(Object(k.a)({},e),{},{isPending:!0})},Ot=function(e){return Object(k.a)(Object(k.a)({},e),{},{isPending:!1})},pt=function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{error:n,isPending:!1})},mt=function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{isPending:!1,data:n})},vt=function(e){return Object(k.a)(Object(k.a)({},e),{},{isPending:!1})},gt=function(e,t){var n=t.payload;return Object(k.a)(Object(k.a)({},e),{},{seletedProfileId:n})},xt={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.loginSuccess:return at(e);case Le.loginError:return st(e,t);default:return e}},channels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.createChannel:return ot(e);case x.createChannelSuccess:return lt(e);case x.createChannelsError:return ut(e,t);case x.fetchChannelsSuccess:return ft(e,t);case x.fetchChannelsError:return dt(e);case x.setChannelId:return jt(e,t);default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.createProfile:return ht(e);case D.createProfileSuccess:return Ot(e);case D.createProfileError:return pt(e,t);case D.fetchProfilesSuccess:return mt(e,t);case D.fetchProfilesError:return vt(e);case D.selectProfile:return gt(e,t);default:return e}}},Pt=function(){return Object(et.combineReducers)(Object(k.a)({},xt))},_t=n(180),Nt=n(23),Ct=n.n(Nt),kt=n(14),yt=Ct.a.mark(St);function St(e){var t,n;return Ct.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,P.a.auth().signInWithEmailAndPassword("eryk.sandecki@gmail.com",t);case 4:return c.next=6,Object(kt.c)({type:Le.loginSuccess});case 6:c.next=13;break;case 8:return c.prev=8,c.t0=c.catch(1),n=c.t0.code,c.next=13,Object(kt.c)((r=n,{type:Le.loginError,payload:r}));case 13:case"end":return c.stop()}var r}),yt,null,[[1,8]])}var Mt=Ct.a.mark(It);function It(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.a)([Object(kt.f)(Le.login,St)]);case 2:case"end":return e.stop()}}),Mt)}var Et=n(90),wt=function(e,t){var n=[],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";do{n.splice(0,n.length);for(var r=0;r<9;r++)n.push(c.charAt(Math.floor(Math.random()*c.length)))}while(e.find((function(e){return e[t]===n.join("")})));return n.join("")},Ft=Ct.a.mark(Ht);function Ht(e){var t,n,c,r,a;return Ct.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.name,c=t.shortcut,s.next=4,Object(kt.d)($("channels"));case 4:return r=s.sent,a=wt(r,"channelId"),s.prev=6,s.next=9,Object(kt.b)(1e3);case 9:return s.next=11,_([p.channels]).set([].concat(Object(Et.a)(r),[{channelId:a,name:n,shortcut:c}]));case 11:return s.next=13,Object(kt.c)({type:x.createChannelSuccess});case 13:s.next=19;break;case 15:return s.prev=15,s.t0=s.catch(6),s.next=19,Object(kt.c)(R(s.t0));case 19:case"end":return s.stop()}}),Ft,null,[[6,15]])}var Lt=Ct.a.mark(Dt);function Dt(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.a)([Object(kt.f)(x.createChannel,Ht)]);case 2:case"end":return e.stop()}}),Lt)}var Rt=Ct.a.mark(Tt);function Tt(e){var t,n,c,r,a,s,i;return Ct.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.action,c=t.file,r=t.path,o.prev=2,a=P.a.storage().ref(r).put(c),s=Object(nt.b)((function(e){return a.on("state_changed",e)})),i="",o.next=8,Object(kt.f)(s,(function(){}));case 8:return o.next=10,a;case 10:return o.next=12,a.snapshot.ref.getDownloadURL().then((function(e){return i=e}));case 12:return o.next=14,Object(kt.c)(n({result:"success",src:i}));case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(2),o.next=20,Object(kt.c)(n({error:o.t0,result:"error"}));case 20:case"end":return o.stop()}}),Rt,null,[[2,16]])}var At;!function(e){e[e.uploadFile="".concat("common","/uploadFile")]="uploadFile"}(At||(At={}));var Bt=Ct.a.mark(zt);function zt(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.a)([Object(kt.f)(At.uploadFile,Tt)]);case 2:case"end":return e.stop()}}),Bt)}var Ut=function(e){var t=e.error,n=e.result,c=e.src;if("error"===n)throw t;return c},Wt=function(e){return{type:At.uploadFile,payload:e}},Vt=Ct.a.mark(Yt),Gt=Ct.a.mark(Kt),Jt=Ct.a.mark(Qt);function Yt(e){var t,n,c,a,s,i,o,l,u,f;return Ct.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=t.backToProfileList,c=t.name,a=t.imageData.file,s="".concat(r.profiles,"/").concat(c),d.next=5,Object(kt.d)(ue("data"));case 5:return i=d.sent,o=wt(i,"profileId"),d.prev=7,d.next=10,Object(kt.c)(Wt({action:Me,path:s,file:a}));case 10:return d.next=12,Object(kt.e)(D.uploadImageFinished);case 12:return l=d.sent,u=l.payload,f=Ut(u),d.next=17,_([p.profiles]).set([].concat(Object(Et.a)(i),[{name:c,online:!1,profileId:o,src:f}]));case 17:return d.next=19,Object(kt.c)({type:D.createProfileSuccess});case 19:return d.next=21,n();case 21:d.next=27;break;case 23:return d.prev=23,d.t0=d.catch(7),d.next=27,Object(kt.c)(Se(d.t0));case 27:case"end":return d.stop()}}),Vt,null,[[7,23]])}function Kt(e){var t,n,r;return Ct.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(kt.d)(ue("data"));case 3:return n=a.sent,r=n.findIndex((function(e){return e.profileId===t})),a.prev=5,a.next=8,localStorage.setItem(c.indexProfile,r);case 8:return a.next=10,_([p.profiles,r,"online"]).set(!0);case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(5),a.next=16,Object(kt.c)((s=a.t0,{type:D.selectProfileError,payload:s}));case 16:case"end":return a.stop()}var s}),Gt,null,[[5,12]])}function Qt(e){var t,n,c,r;return Ct.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(kt.d)(ue("seletedProfileId"));case 3:return n=a.sent,a.next=6,Object(kt.d)(ue("data"));case 6:if(c=a.sent,-1!==(r=c.findIndex((function(e){return e.profileId===n})))){a.next=10;break}return a.abrupt("return");case 10:return a.prev=10,a.next=13,_([p.profiles,r,"online"]).set(t);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.next=19,Object(kt.c)((s=a.t0,{type:D.setStatusProfileError,payload:s}));case 19:case"end":return a.stop()}var s}),Jt,null,[[10,15]])}var Xt=Ct.a.mark(qt);function qt(){return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.a)([Object(kt.f)(D.createProfile,Yt),Object(kt.f)(D.selectProfile,Kt),Object(kt.f)(D.setStatusProfile,Qt)]);case 2:case"end":return e.stop()}}),Xt)}var Zt=[It,Dt,zt,qt],$t=function(e){var t,n=Object(_t.a)(Zt);try{for(n.s();!(t=n.n()).done;){var c=t.value;e.run(c)}}catch(r){n.e(r)}finally{n.f()}},en=Object(nt.a)(),tn=function(){var e=Object(et.createStore)(Pt(),{},Object(tt.composeWithDevTools)(et.applyMiddleware.apply(void 0,[ct.a].concat([en]))));return $t(en),e};n(352);o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsxs)(l.a,{store:tn(),children:[Object(b.jsx)($e,{}),Object(b.jsx)(Ye,{})]})}),document.getElementById("root"))}},[[353,1,2]]]);
//# sourceMappingURL=main.fbdbe9ec.chunk.js.map