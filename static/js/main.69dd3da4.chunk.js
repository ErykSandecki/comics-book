(this["webpackJsonpcomics-book"]=this["webpackJsonpcomics-book"]||[]).push([[0],{175:function(e,t,c){},177:function(e,t,c){},178:function(e,t,c){},302:function(e,t,c){},304:function(e,t,c){},305:function(e,t,c){},306:function(e,t,c){},307:function(e,t,c){},308:function(e,t,c){},315:function(e,t,c){},316:function(e,t,c){"use strict";c.r(t);var r,a=c(0),n=c.n(a),i=c(17),s=c.n(i),o=c(23),l=c(160),u=c(352),f=c.p+"static/media/error.aee84ee0.svg",j=(c(175),c(5)),b=function(){return Object(j.jsx)("section",{className:"ErrorPage",children:Object(j.jsx)("img",{alt:"background-error",className:"ErrorPage__background",src:f})})},d=c(41),m=c.p+"static/media/close.91205169.svg",O=(c(177),function(e){var t=e.visible,c=e.setVisible,r=function(){return c(!1)};return Object(j.jsxs)("div",{className:"NavMenu ".concat(t&&"NavMenu--visible"),onClick:r,children:[Object(j.jsx)("div",{className:"NavMenu__background ".concat(t&&"NavMenu__background--visible")}),Object(j.jsx)("div",{className:"NavMenu__container ".concat(t&&"NavMenu__container--visible"),onClick:function(e){return e.stopPropagation()},children:Object(j.jsxs)("div",{className:"NavMenu__header",children:[Object(j.jsx)("input",{placeholder:"Search for a channel:",className:"NavMenu__input-filter"}),Object(j.jsx)("div",{className:"NavMenu__button-close",children:Object(j.jsx)("img",{alt:"close-icon",onClick:r,src:m})})]})})]})}),p=c.p+"static/media/hamburger-menu.4f615ee5.svg",v=(c(178),function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),c=t[0],r=t[1];return Object(j.jsxs)("header",{className:"PageHeader",children:[Object(j.jsxs)("div",{className:"PageHeader__content",children:[Object(j.jsx)("div",{className:"PageHeader__channel-picker",children:"ME"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"PageHeader__title",children:"Gentleman App - Meetings"}),Object(j.jsx)("p",{className:"PageHeader__users",children:"2 Brothers-in-law online"})]})]}),Object(j.jsx)("img",{alt:"hamburger-menu",className:"PageHeader__hamburger-menu",onClick:function(){return r(!0)},src:p}),Object(j.jsx)(O,{visible:c,setVisible:r})]})}),g=c(24),P=c(353),h=c(354),_=c(351),x=c.p+"static/media/back.3f83d067.svg",N=c.p+"static/media/button-picture.7e1048a6.svg",k=function(e,t){var c=new FileReader,r=e.target.files;c.onload=function(e){t(e.target.result)},c.readAsDataURL(r[0])},y=c(32),S=c.n(y),E=c(155),w=c.n(E),M=c(156),C=c.n(M),L=c(29);!function(e){e.createProfile="createProfile",e.fetchProfilesSuccess="fetchProfilesSuccess",e.fetchProfilesError="fetchProfilesError"}(r||(r={}));var F,H=S()("profiles"),I=Object(L.a)(H,S()("isPending")),D=Object(L.a)(H,C()(w.a,S()("data"))),A=(c(302),function(e){var t=e.clickHandler,c=e.name,r=void 0===c?"":c,n=e.src,i=void 0===n?"":n,s=e.submitHandler,l=e.title,u=Object(o.c)(I),f=Object(a.useRef)(null),b=Object(a.useState)(i),m=Object(d.a)(b,2),O=m[0],p=m[1],v=Object(a.useState)(r),g=Object(d.a)(v,2),y=g[0],S=g[1];return Object(j.jsxs)("div",{className:"ProfileForm__form-wrapper",children:[Object(j.jsxs)("h2",{className:"ProfileForm__title",children:[Object(j.jsx)("img",{alt:"back-icon",className:"ProfileForm__icon",onClick:t,src:x}),l]}),Object(j.jsxs)("form",{className:"ProfileForm",onSubmit:function(e){e.preventDefault(),y&&O&&s({name:y,src:O})},children:[Object(j.jsxs)("div",{className:"ProfileForm__avatar ".concat(O?"ProfileForm__avatar--selected":""),children:[O?Object(j.jsx)("img",{alt:"avatar",className:"ProfileForm__image",src:O}):Object(j.jsx)("p",{className:"ProfileForm__empty-picture",children:"Please select picture:"}),Object(j.jsx)("img",{alt:"button-icon",className:"ProfileForm__button-picture",onClick:function(){return f.current.click()},src:N}),Object(j.jsx)("input",{className:"ProfileForm__input-file",onChange:function(e){return k(e,p)},ref:f,type:"file"})]}),Object(j.jsx)(P.a,{className:"ProfileForm__input-name",onChange:function(e){return S(e.target.value)},label:"Profile name:",value:y}),Object(j.jsxs)(h.a,{className:"ProfileForm__submit-button",color:"primary",disabled:u,size:"large",type:"submit",variant:"contained",children:["Create Profile",u&&Object(j.jsx)(_.a,{className:"ProfileForm__spinner",color:"primary",size:20})]})]})]})}),B=function(e){var t=Object.assign({},e),c=Object(o.b)();return Object(j.jsx)(A,Object(g.a)({submitHandler:function(e){return c((t=e,{type:r.createProfile,payload:t}));var t},title:"Create Profile:"},t))},R=c.p+"static/media/plus.553def23.svg",z=(c(304),function(e){var t=e.clickHandler,c=e.mode,r=void 0===c?"add":c;return Object(j.jsxs)("section",{className:"ProfilePicker ProfilePicker--".concat(r),children:[Object(j.jsx)("p",{className:"ProfilePicker__title",children:"Create:"}),Object(j.jsx)("div",{className:"ProfilePicker__button",onClick:t,children:Object(j.jsx)("img",{alt:"icon",className:"ProfilePicker__icon-plus",src:R})})]})});!function(e){e.createProfile="createProfile",e.listProfiles="listProfiles"}(F||(F={}));c(305);var T,W=function(e){var t=e.clickHandler;return Object(j.jsxs)("section",{className:"ProfilePickerList",children:[Object(j.jsx)("h1",{className:"ProfilePickerList__title",children:"Choose a brother-in-law:"}),Object(j.jsx)("p",{className:"ProfilePickerList__description",children:"Select a profile to start a conversation with your brother-in-law."}),Object(j.jsx)("div",{className:"ProfilePickerList__pickers",children:Object(j.jsx)(z,{clickHandler:function(){return t(F.createProfile)}})})]})},V=(c(306),function(){var e=Object(a.useState)(F.listProfiles),t=Object(d.a)(e,2),c=t[0],r=t[1];return Object(j.jsx)("section",{className:"ProfilePickerSection",children:c===F.listProfiles?Object(j.jsx)(W,{clickHandler:function(e){return r(e)}}):Object(j.jsx)(B,{clickHandler:function(){return r(F.listProfiles)}})})}),G=c.p+"static/media/gentleman.154e51ca.svg",J=(c(307),function(e){e.appDataLoaded;return Object(j.jsxs)("div",{className:"PageLoader",children:[Object(j.jsx)("h2",{className:"PageLoader__title",children:"WELCOME GENTLEMAN"}),Object(j.jsx)("img",{alt:"gentleman-logo",src:G}),Object(j.jsx)("div",{className:"PageLoader__spinner",children:Array.from(Array(12)).map((function(e,t){return Object(j.jsx)("div",{className:"PageLoader__circle PageLoader__circle--".concat(t+1)},t)}))})]})});!function(e){e.login="login",e.loginSuccess="loginSuccess",e.loginError="loginError"}(T||(T={}));var Y,K=S()("auth"),Q=Object(L.a)(K,S()("error")),U=Object(L.a)(K,S()("isPending")),X=Object(L.a)(K,S()("profileId")),q=Object(L.a)(U,Q,(function(e,t){return!e&&!t})),Z=Object(L.a)(D,(function(e){return e})),$=(c(308),function(){var e=Object(o.c)(X),t=Object(o.c)(Z);return t?e?Object(j.jsx)("div",{className:"Page",children:Object(j.jsx)(v,{})}):Object(j.jsx)(V,{}):Object(j.jsx)(J,{appDataLoaded:t})}),ee=function(e){return{type:T.loginError,payload:e}},te=function(){var e=Object(o.c)(U),t=Object(o.b)(),c=Object(o.c)(Q),r=Object(a.useMemo)((function(){return Object(l.a)({palette:{type:"dark"}})}),[]);return Object(a.useEffect)((function(){var e,c=prompt("Please enter a password:");indexedDB.deleteDatabase("firebaseLocalStorageDb"),t((e=c,{type:T.login,payload:e}))}),[]),e?null:c?Object(j.jsx)(b,{}):Object(j.jsxs)(u.a,{theme:r,children:[Object(j.jsx)($,{}),";"]})},ce=c(55),re={apiKey:"AIzaSyBYQ05TbRrP2wVEX7NDn5CWodoAnnkpcOY",authDomain:"comics-book.firebaseapp.com",projectId:"comics-book",storageBucket:"comics-book.appspot.com",messagingSenderId:"426496482303",appId:"1:426496482303:web:ebf257ff0a64a90f6ae5ca"};!function(e){e.profiles="profiles"}(Y||(Y={}));var ae,ne=function(e){console.error(e)},ie=function(e){for(var t=Object.keys(e),c=[],r=0;r<t.length;r++)c.push(e[t[r]]);return c},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=e.val();t(ie(c||{}))},oe=function(e,t,c){e.database().ref(c).on("value",(function(e){return se(e,t)}),ne)},le=function(){var e=Object(o.c)(q),t=Object(o.b)();return Object(a.useEffect)((function(){ce.a.initializeApp(re)}),[]),Object(a.useEffect)((function(){var c=function(e){t(function(e){return{type:r.fetchProfilesSuccess,payload:e}}(e))};e&&setTimeout((function(){oe(ce.a,c,Y.profiles)}),5e3)}),[e]),null},ue=c(35),fe=c(157),je=c(161),be=c(158),de={error:"",isPending:!0,profileId:""},me=function(e,t){var c=t.payload;return Object(g.a)(Object(g.a)({},e),{},{isPending:!1,profileId:c})},Oe=function(e,t){var c=t.payload;return Object(g.a)(Object(g.a)({},e),{},{error:c,isPending:!1})},pe={data:null,isPending:!0,seletedProfileId:""},ve=function(e){return Object(g.a)(Object(g.a)({},e),{},{isPending:!0})},ge=function(e,t){var c=t.payload;return Object(g.a)(Object(g.a)({},e),{},{isPending:!1,data:c})},Pe=function(e){return Object(g.a)(Object(g.a)({},e),{},{isPending:!1})},he={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.loginSuccess:return me(e,t);case T.loginError:return Oe(e,t);default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.createProfile:return ve(e);case r.fetchProfilesSuccess:return ge(e,t);case r.fetchProfilesError:return Pe(e);default:return e}}},_e=function(){return Object(ue.combineReducers)(Object(g.a)({},he))},xe=c(159),Ne=c(47),ke=c.n(Ne),ye=c(48);!function(e){e.profileId="profileId"}(ae||(ae={}));var Se=ke.a.mark(Ee);function Ee(e){var t,c,r;return ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,c=localStorage.getItem(ae.profileId)||"",a.prev=2,a.next=5,ce.a.auth().signInWithEmailAndPassword("eryk.sandecki@gmail.com",t);case 5:return a.next=7,Object(ye.b)((n=c,{type:T.loginSuccess,payload:n}));case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(2),r=a.t0.code,a.next=14,Object(ye.b)(ee(r));case 14:case"end":return a.stop()}var n}),Se,null,[[2,9]])}var we=ke.a.mark(Me);function Me(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Object(ye.c)(T.login,Ee)]);case 2:case"end":return e.stop()}}),we)}var Ce=[Me],Le=function(e){var t,c=Object(xe.a)(Ce);try{for(c.s();!(t=c.n()).done;){var r=t.value;e.run(r)}}catch(a){c.e(a)}finally{c.f()}},Fe=Object(je.a)(),He=function(){var e=Object(ue.createStore)(_e(),{},Object(fe.composeWithDevTools)(ue.applyMiddleware.apply(void 0,[be.a].concat([Fe]))));return Le(Fe),e};c(315);s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsxs)(o.a,{store:He(),children:[Object(j.jsx)(le,{}),Object(j.jsx)(te,{})]})}),document.getElementById("root"))}},[[316,1,2]]]);
//# sourceMappingURL=main.69dd3da4.chunk.js.map